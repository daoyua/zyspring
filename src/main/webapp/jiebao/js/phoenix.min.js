!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";var keys=require("object-keys"),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),toStr=Object.prototype.toString,concat=Array.prototype.concat,origDefineProperty=Object.defineProperty,supportsDescriptors=origDefineProperty&&function(){var obj={};try{for(var _ in origDefineProperty(obj,"x",{enumerable:!1,value:obj}),obj)return!1;return obj.x===obj}catch(e){return!1}}(),defineProperty=function(object,name,value,predicate){var fn;name in object&&("function"!=typeof(fn=predicate)||"[object Function]"!==toStr.call(fn)||!predicate())||(supportsDescriptors?origDefineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value)},defineProperties=function(object,map){var predicates=2<arguments.length?arguments[2]:{},props=keys(map);hasSymbols&&(props=concat.call(props,Object.getOwnPropertySymbols(map)));for(var i=0;i<props.length;i+=1)defineProperty(object,props[i],map[props[i]],predicates[props[i]])};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},{"object-keys":2}],2:[function(require,module,exports){"use strict";var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,slice=Array.prototype.slice,isArgs=require("./isArguments"),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!excludedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}(),keysShim=function(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&0<object.length&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&0<object.length)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}}(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys};keysShim.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var originalKeys=Object.keys;Object.keys=function(object){return isArgs(object)?originalKeys(slice.call(object)):originalKeys(object)}}}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},{"./isArguments":3}],3:[function(require,module,exports){"use strict";var toStr=Object.prototype.toString;module.exports=function(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&0<=value.length&&"[object Function]"===toStr.call(value.callee)),isArgs}},{}],4:[function(require,module,exports){"use strict";var ThrowTypeError=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,getProto=Object.getPrototypeOf||function(x){return x.__proto__},asyncGenIterator=void 0,TypedArray="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":hasSymbols?Symbol:void 0,"$ %SymbolPrototype%":hasSymbols?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":ThrowTypeError,"$ %TypedArray%":TypedArray,"$ %TypedArrayPrototype%":TypedArray?TypedArray.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};module.exports=function(name,allowMissing){if(1<arguments.length&&"boolean"!=typeof allowMissing)throw new TypeError('"allowMissing" argument must be a boolean');var key="$ "+name;if(!(key in INTRINSICS))throw new SyntaxError("intrinsic "+name+" does not exist!");if(void 0===INTRINSICS[key]&&!allowMissing)throw new TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return INTRINSICS[key]}},{}],5:[function(require,module,exports){"use strict";var GetIntrinsic=require("./GetIntrinsic"),$Object=GetIntrinsic("%Object%"),$TypeError=GetIntrinsic("%TypeError%"),$String=GetIntrinsic("%String%"),$isNaN=require("./helpers/isNaN"),$isFinite=require("./helpers/isFinite"),sign=require("./helpers/sign"),mod=require("./helpers/mod"),IsCallable=require("is-callable"),toPrimitive=require("es-to-primitive/es5"),has=require("has"),ES5={ToPrimitive:toPrimitive,ToBoolean:function(value){return!!value},ToNumber:function(value){return+value},ToInteger:function(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function(x){return this.ToNumber(x)>>0},ToUint32:function(x){return this.ToNumber(x)>>>0},ToUint16:function(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function(value){return $String(value)},ToObject:function(value){return this.CheckObjectCoercible(value),$Object(value)},CheckObjectCoercible:function(value,optMessage){if(null==value)throw new $TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)},Type:function(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0},IsPropertyDescriptor:function(Desc){if("Object"!==this.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");return!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]"))},IsDataDescriptor:function(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");return!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]"))},IsGenericDescriptor:function(Desc){if(void 0===Desc)return!1;if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(Desc)&&!this.IsDataDescriptor(Desc)},FromPropertyDescriptor:function(Desc){if(void 0===Desc)return Desc;if(!this.IsPropertyDescriptor(Desc))throw new $TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(Desc))return{value:Desc["[[Value]]"],writable:!!Desc["[[Writable]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};if(this.IsAccessorDescriptor(Desc))return{get:Desc["[[Get]]"],set:Desc["[[Set]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};throw new $TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(Obj){if("Object"!==this.Type(Obj))throw new $TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!this.IsCallable(getter))throw new TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!this.IsCallable(setter))throw new $TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc}};module.exports=ES5},{"./GetIntrinsic":4,"./helpers/isFinite":6,"./helpers/isNaN":7,"./helpers/mod":8,"./helpers/sign":9,"es-to-primitive/es5":10,has:16,"is-callable":17}],6:[function(require,module,exports){var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},{}],7:[function(require,module,exports){module.exports=Number.isNaN||function(a){return a!=a}},{}],8:[function(require,module,exports){module.exports=function(number,modulo){var remain=number%modulo;return Math.floor(0<=remain?remain:remain+modulo)}},{}],9:[function(require,module,exports){module.exports=function(number){return 0<=number?1:-1}},{}],10:[function(require,module,exports){"use strict";var toStr=Object.prototype.toString,isPrimitive=require("./helpers/isPrimitive"),isCallable=require("is-callable"),ES5internalSlots___DefaultValue__=function(O){var actualHint;if((actualHint=1<arguments.length?arguments[1]:"[object Date]"===toStr.call(O)?String:Number)!==String&&actualHint!==Number)throw new TypeError("invalid [[DefaultValue]] hint supplied");var value,i,methods=actualHint===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methods.length;++i)if(isCallable(O[methods[i]])&&(value=O[methods[i]](),isPrimitive(value)))return value;throw new TypeError("No default value")};module.exports=function(input){return isPrimitive(input)?input:1<arguments.length?ES5internalSlots___DefaultValue__(input,arguments[1]):ES5internalSlots___DefaultValue__(input)}},{"./helpers/isPrimitive":11,"is-callable":17}],11:[function(require,module,exports){module.exports=function(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},{}],12:[function(require,module,exports){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0==--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,void 0!==module&&(module.exports=EventEmitter)},{}],13:[function(require,module,exports){"use strict";var isCallable=require("is-callable"),toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(list,iterator,thisArg){if(!isCallable(iterator))throw new TypeError("iterator must be a function");var receiver;3<=arguments.length&&(receiver=thisArg),"[object Array]"===toStr.call(list)?function(array,iterator,receiver){for(var i=0,len=array.length;i<len;i++)hasOwnProperty.call(array,i)&&(null==receiver?iterator(array[i],i,array):iterator.call(receiver,array[i],i,array))}(list,iterator,receiver):"string"==typeof list?function(string,iterator,receiver){for(var i=0,len=string.length;i<len;i++)null==receiver?iterator(string.charAt(i),i,string):iterator.call(receiver,string.charAt(i),i,string)}(list,iterator,receiver):function(object,iterator,receiver){for(var k in object)hasOwnProperty.call(object,k)&&(null==receiver?iterator(object[k],k,object):iterator.call(receiver,object[k],k,object))}(list,iterator,receiver)}},{"is-callable":17}],14:[function(require,module,exports){"use strict";var slice=Array.prototype.slice,toStr=Object.prototype.toString;module.exports=function(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.call(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=slice.call(arguments,1),boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);if(bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))}),target.prototype){var Empty=function(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},{}],15:[function(require,module,exports){"use strict";var implementation=require("./implementation");module.exports=Function.prototype.bind||implementation},{"./implementation":14}],16:[function(require,module,exports){"use strict";var bind=require("function-bind");module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":15}],17:[function(require,module,exports){"use strict";var fnToStr=Function.prototype.toString,constructorRegex=/^\s*class\b/,isES6ClassFn=function(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr)}catch(e){return!1}},toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if("function"==typeof value&&!value.prototype)return!0;if(hasToStringTag)return function(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}}(value);if(isES6ClassFn(value))return!1;var strClass=toStr.call(value);return"[object Function]"===strClass||"[object GeneratorFunction]"===strClass}},{}],18:[function(require,module,exports){"use strict";var forEach=require("for-each"),warning=require("warning"),has=require("has"),trim=require("string.prototype.trim"),warn=function(message){warning(!1,message)},replace=String.prototype.replace,split=String.prototype.split,delimiter="||||",russianPluralGroups=function(n){var end=n%10;return 11!==n&&1===end?0:2<=end&&end<=4&&!(12<=n&&n<=14)?1:2},pluralTypes={arabic:function(n){if(n<3)return n;var lastTwo=n%100;return 3<=lastTwo&&lastTwo<=10?3:11<=lastTwo?4:5},bosnian_serbian:russianPluralGroups,chinese:function(){return 0},croatian:russianPluralGroups,french:function(n){return 1<n?1:0},german:function(n){return 1!==n?1:0},russian:russianPluralGroups,lithuanian:function(n){return n%10==1&&n%100!=11?0:2<=n%10&&n%10<=9&&(n%100<11||19<n%100)?1:2},czech:function(n){return 1===n?0:2<=n&&n<=4?1:2},polish:function(n){if(1===n)return 0;var end=n%10;return 2<=end&&end<=4&&(n%100<10||20<=n%100)?1:2},icelandic:function(n){return n%10!=1||n%100==11?1:0},slovenian:function(n){var lastTwo=n%100;return 1===lastTwo?0:2===lastTwo?1:3===lastTwo||4===lastTwo?2:3}},pluralTypeToLanguages={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function pluralTypeName(locale){var ret,langToPluralType=(ret={},forEach(pluralTypeToLanguages,function(langs,type){forEach(langs,function(lang){ret[lang]=type})}),ret);return langToPluralType[locale]||langToPluralType[split.call(locale,/-/,1)[0]]||langToPluralType.en}function escape(token){return token.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var dollarRegex=/\$/g,dollarBillsYall="$$",defaultTokenRegex=/%\{(.*?)\}/g;function transformPhrase(phrase,substitutions,locale,tokenRegex){if("string"!=typeof phrase)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==substitutions)return phrase;var result=phrase,interpolationRegex=tokenRegex||defaultTokenRegex,options="number"==typeof substitutions?{smart_count:substitutions}:substitutions;if(null!=options.smart_count&&result){var texts=split.call(result,delimiter);result=trim(texts[function(locale,count){return pluralTypes[pluralTypeName(locale)](count)}(locale||"en",options.smart_count)]||texts[0])}return result=replace.call(result,interpolationRegex,function(expression,argument){return has(options,argument)&&null!=options[argument]?replace.call(options[argument],dollarRegex,dollarBillsYall):expression})}function Polyglot(options){var opts=options||{};this.phrases={},this.extend(opts.phrases||{}),this.currentLocale=opts.locale||"en";var allowMissing=opts.allowMissing?transformPhrase:null;this.onMissingKey="function"==typeof opts.onMissingKey?opts.onMissingKey:allowMissing,this.warn=opts.warn||warn,this.tokenRegex=function(opts){var prefix=opts&&opts.prefix||"%{",suffix=opts&&opts.suffix||"}";if(prefix===delimiter||suffix===delimiter)throw new RangeError('"'+delimiter+'" token is reserved for pluralization');return new RegExp(escape(prefix)+"(.*?)"+escape(suffix),"g")}(opts.interpolation)}Polyglot.prototype.locale=function(newLocale){return newLocale&&(this.currentLocale=newLocale),this.currentLocale},Polyglot.prototype.extend=function(morePhrases,prefix){forEach(morePhrases,function(phrase,key){var prefixedKey=prefix?prefix+"."+key:key;"object"==typeof phrase?this.extend(phrase,prefixedKey):this.phrases[prefixedKey]=phrase},this)},Polyglot.prototype.unset=function(morePhrases,prefix){"string"==typeof morePhrases?delete this.phrases[morePhrases]:forEach(morePhrases,function(phrase,key){var prefixedKey=prefix?prefix+"."+key:key;"object"==typeof phrase?this.unset(phrase,prefixedKey):delete this.phrases[prefixedKey]},this)},Polyglot.prototype.clear=function(){this.phrases={}},Polyglot.prototype.replace=function(newPhrases){this.clear(),this.extend(newPhrases)},Polyglot.prototype.t=function(key,options){var phrase,result,opts=null==options?{}:options;if("string"==typeof this.phrases[key])phrase=this.phrases[key];else if("string"==typeof opts._)phrase=opts._;else if(this.onMissingKey){result=(0,this.onMissingKey)(key,opts,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+key+'"'),result=key;return"string"==typeof phrase&&(result=transformPhrase(phrase,opts,this.currentLocale,this.tokenRegex)),result},Polyglot.prototype.has=function(key){return has(this.phrases,key)},Polyglot.transformPhrase=function(phrase,substitutions,locale){return transformPhrase(phrase,substitutions,locale)},module.exports=Polyglot},{"for-each":13,has:16,"string.prototype.trim":25,warning:30}],19:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],20:[function(require,module,exports){(function(global){!function(root){var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return 1<parts.length&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)55296<=(value=string.charCodeAt(counter++))&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return 65535<value&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);baseMinusTMin*tMax>>1<delta;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,codePoint,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for((basic=input.lastIndexOf(delimiter))<0&&(basic=0),j=0;j<basic;++j)128<=input.charCodeAt(j)&&error("not-basic"),output.push(input.charCodeAt(j));for(index=0<basic?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;inputLength<=index&&error("invalid-input"),codePoint=input.charCodeAt(index++),(base<=(digit=codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base)||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?tMin:bias+tMax<=k?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=initialN,bias=initialBias,j=delta=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)n<=(currentValue=input[j])&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(t=k<=bias?tMin:bias+tMax<=k?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return punycode});else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;0<maxKeys&&maxKeys<len&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);vstr=0<=idx?(kstr=x.substr(0,idx),x.substr(idx+1)):(kstr=x,""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],22:[function(require,module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],23:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":21,"./encode":22}],24:[function(require,module,exports){"use strict";var bind=require("function-bind"),ES=require("es-abstract/es5"),replace=bind.call(Function.call,String.prototype.replace),leftWhitespace=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,rightWhitespace=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;module.exports=function(){var S=ES.ToString(ES.CheckObjectCoercible(this));return replace(replace(S,leftWhitespace,""),rightWhitespace,"")}},{"es-abstract/es5":5,"function-bind":15}],25:[function(require,module,exports){"use strict";var bind=require("function-bind"),define=require("define-properties"),implementation=require("./implementation"),getPolyfill=require("./polyfill"),shim=require("./shim"),boundTrim=bind.call(Function.call,getPolyfill());define(boundTrim,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=boundTrim},{"./implementation":24,"./polyfill":26,"./shim":27,"define-properties":1,"function-bind":15}],26:[function(require,module,exports){"use strict";var implementation=require("./implementation");module.exports=function(){return String.prototype.trim&&"â€‹"==="â€‹".trim()?String.prototype.trim:implementation}},{"./implementation":24}],27:[function(require,module,exports){"use strict";var define=require("define-properties"),getPolyfill=require("./polyfill");module.exports=function(){var polyfill=getPolyfill();return define(String.prototype,{trim:polyfill},{trim:function(){return String.prototype.trim!==polyfill}}),polyfill}},{"./polyfill":26,"define-properties":1}],28:[function(require,module,exports){"use strict";var punycode=require("punycode"),util=require("./util");function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=urlParse,exports.resolve=function(source,relative){return urlParse(source,!1,!0).resolve(relative)},exports.resolveObject=function(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative},exports.format=function(obj){util.isString(obj)&&(obj=urlParse(obj));return obj instanceof Url?obj.format():Url.prototype.format.call(obj)},exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,unwise=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/");var rest=url=uSplit.join(splitter);if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var auth,atSign,hostEnd=-1,i=0;i<hostEndingChars.length;i++){-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(i=0;i<nonHostChars.length;i++){var hec;-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),l=(i=0,hostparts.length);i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)127<part.charCodeAt(j)?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){p=this.pathname||"";var s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+(pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}))+(search=search.replace("#","%23"))+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],psychotic=(relPath=relative.pathname&&relative.pathname.split("/")||[],result.protocol&&!slashedProtocol[result.protocol]);if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic)result.hostname=result.host=srcPath.shift(),(authInHost=!!(result.host&&0<result.host.indexOf("@"))&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift());return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||1<srcPath.length)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;0<=i;i--)"."===(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var authInHost,isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);psychotic&&(result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"",(authInHost=!!(result.host&&0<result.host.indexOf("@"))&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift()));return(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{"./util":29,punycode:20,querystring:23}],29:[function(require,module,exports){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},{}],30:[function(require,module,exports){(function(process){"use strict";var warning=function(){};if("production"!==process.env.NODE_ENV){warning=function(condition,format,args){var len=arguments.length;args=new Array(2<len?len-2:0);for(var key=2;key<len;key++)args[key-2]=arguments[key];if(void 0===format)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");condition||function(format,args){var len=arguments.length;args=new Array(2<len?len-2:0);for(var key=2;key<len;key++)args[key-2]=arguments[key];var argIndex=0,message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});"undefined"!=typeof console&&console.error(message);try{throw new Error(message)}catch(x){}}.apply(null,[format].concat(args))}}module.exports=warning}).call(this,require("_process"))},{_process:19}],31:[function(require,module,exports){var _global=function(){return this}(),NativeWebSocket=_global.WebSocket||_global.MozWebSocket,websocket_version=require("./version");function W3CWebSocket(uri,protocols){return protocols?new NativeWebSocket(uri,protocols):new NativeWebSocket(uri)}NativeWebSocket&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(prop){Object.defineProperty(W3CWebSocket,prop,{get:function(){return NativeWebSocket[prop]}})}),module.exports={w3cwebsocket:NativeWebSocket?W3CWebSocket:null,version:websocket_version}},{"./version":32}],32:[function(require,module,exports){module.exports=require("../package.json").version},{"../package.json":33}],33:[function(require,module,exports){module.exports={name:"websocket",description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author:"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors:["IÃ±aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version:"1.0.28",repository:{type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage:"https://github.com/theturtle32/WebSocket-Node",engines:{node:">=0.10.0"},dependencies:{debug:"^2.2.0",nan:"^2.11.0","typedarray-to-buffer":"^3.1.5",yaeti:"^0.0.6"},devDependencies:{"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config:{verbose:!1},scripts:{install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit",gulp:"gulp"},main:"index",directories:{lib:"./lib"},browser:"lib/browser.js",license:"Apache-2.0"}},{}],34:[function(require,module,exports){(function(global){var factory;factory=function(){"use strict";!function(global){var performance=global.performance;function mark(name){performance&&performance.mark&&performance.mark(name)}function performanceMeasure(name,label){performance&&performance.measure&&performance.measure(name,label)}if(mark("Zone"),global.Zone)throw new Error("Zone already loaded.");var nativeMicroTaskQueuePromise,Zone=function(){function Zone(parent,zoneSpec){this._properties=null,this._parent=parent,this._name=zoneSpec?zoneSpec.name||"unnamed":"<root>",this._properties=zoneSpec&&zoneSpec.properties||{},this._zoneDelegate=new ZoneDelegate(this,this._parent&&this._parent._zoneDelegate,zoneSpec)}return Zone.assertZonePatched=function(){if(global.Promise!==patches.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(Zone,"root",{get:function(){for(var zone=Zone.current;zone.parent;)zone=zone.parent;return zone},enumerable:!0,configurable:!0}),Object.defineProperty(Zone,"current",{get:function(){return _currentZoneFrame.zone},enumerable:!0,configurable:!0}),Object.defineProperty(Zone,"currentTask",{get:function(){return _currentTask},enumerable:!0,configurable:!0}),Zone.__load_patch=function(name,fn){if(patches.hasOwnProperty(name))throw Error("Already loaded patch: "+name);if(!global["__Zone_disable_"+name]){var perfName="Zone:"+name;mark(perfName),patches[name]=fn(global,Zone,_api),performanceMeasure(perfName,perfName)}},Object.defineProperty(Zone.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Zone.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Zone.prototype.get=function(key){var zone=this.getZoneWith(key);if(zone)return zone._properties[key]},Zone.prototype.getZoneWith=function(key){for(var current=this;current;){if(current._properties.hasOwnProperty(key))return current;current=current._parent}return null},Zone.prototype.fork=function(zoneSpec){if(!zoneSpec)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,zoneSpec)},Zone.prototype.wrap=function(callback,source){if("function"!=typeof callback)throw new Error("Expecting function got: "+callback);var _callback=this._zoneDelegate.intercept(this,callback,source),zone=this;return function(){return zone.runGuarded(_callback,this,arguments,source)}},Zone.prototype.run=function(callback,applyThis,applyArgs,source){void 0===applyThis&&(applyThis=void 0),void 0===applyArgs&&(applyArgs=null),void 0===source&&(source=null),_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{return this._zoneDelegate.invoke(this,callback,applyThis,applyArgs,source)}finally{_currentZoneFrame=_currentZoneFrame.parent}},Zone.prototype.runGuarded=function(callback,applyThis,applyArgs,source){void 0===applyThis&&(applyThis=null),void 0===applyArgs&&(applyArgs=null),void 0===source&&(source=null),_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{try{return this._zoneDelegate.invoke(this,callback,applyThis,applyArgs,source)}catch(error){if(this._zoneDelegate.handleError(this,error))throw error}}finally{_currentZoneFrame=_currentZoneFrame.parent}},Zone.prototype.runTask=function(task,applyThis,applyArgs){if(task.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(task.zone||NO_ZONE).name+"; Execution: "+this.name+")");if(!(task.state===notScheduled)||task.type!==eventTask){var reEntryGuard=task.state!=running;reEntryGuard&&task._transitionTo(running,scheduled),task.runCount++;var previousTask=_currentTask;_currentTask=task,_currentZoneFrame={parent:_currentZoneFrame,zone:this};try{task.type==macroTask&&task.data&&!task.data.isPeriodic&&(task.cancelFn=null);try{return this._zoneDelegate.invokeTask(this,task,applyThis,applyArgs)}catch(error){if(this._zoneDelegate.handleError(this,error))throw error}}finally{task.state!==notScheduled&&task.state!==unknown&&(task.type==eventTask||task.data&&task.data.isPeriodic?reEntryGuard&&task._transitionTo(scheduled,running):(task.runCount=0,this._updateTaskCount(task,-1),reEntryGuard&&task._transitionTo(notScheduled,running,notScheduled))),_currentZoneFrame=_currentZoneFrame.parent,_currentTask=previousTask}}},Zone.prototype.scheduleTask=function(task){if(task.zone&&task.zone!==this)for(var newZone=this;newZone;){if(newZone===task.zone)throw Error("can not reschedule task to "+this.name+" which is descendants of the original zone "+task.zone.name);newZone=newZone.parent}task._transitionTo(scheduling,notScheduled);var zoneDelegates=[];task._zoneDelegates=zoneDelegates,task._zone=this;try{task=this._zoneDelegate.scheduleTask(this,task)}catch(err){throw task._transitionTo(unknown,scheduling,notScheduled),this._zoneDelegate.handleError(this,err),err}return task._zoneDelegates===zoneDelegates&&this._updateTaskCount(task,1),task.state==scheduling&&task._transitionTo(scheduled,scheduling),task},Zone.prototype.scheduleMicroTask=function(source,callback,data,customSchedule){return this.scheduleTask(new ZoneTask(microTask,source,callback,data,customSchedule,null))},Zone.prototype.scheduleMacroTask=function(source,callback,data,customSchedule,customCancel){return this.scheduleTask(new ZoneTask(macroTask,source,callback,data,customSchedule,customCancel))},Zone.prototype.scheduleEventTask=function(source,callback,data,customSchedule,customCancel){return this.scheduleTask(new ZoneTask(eventTask,source,callback,data,customSchedule,customCancel))},Zone.prototype.cancelTask=function(task){if(task.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(task.zone||NO_ZONE).name+"; Execution: "+this.name+")");task._transitionTo(canceling,scheduled,running);try{this._zoneDelegate.cancelTask(this,task)}catch(err){throw task._transitionTo(unknown,canceling),this._zoneDelegate.handleError(this,err),err}return this._updateTaskCount(task,-1),task._transitionTo(notScheduled,canceling),task.runCount=0,task},Zone.prototype._updateTaskCount=function(task,count){var zoneDelegates=task._zoneDelegates;-1==count&&(task._zoneDelegates=null);for(var i=0;i<zoneDelegates.length;i++)zoneDelegates[i]._updateTaskCount(task.type,count)},Zone.__symbol__=__symbol__,Zone}(),DELEGATE_ZS={name:"",onHasTask:function(delegate,_,target,hasTaskState){return delegate.hasTask(target,hasTaskState)},onScheduleTask:function(delegate,_,target,task){return delegate.scheduleTask(target,task)},onInvokeTask:function(delegate,_,target,task,applyThis,applyArgs){return delegate.invokeTask(target,task,applyThis,applyArgs)},onCancelTask:function(delegate,_,target,task){return delegate.cancelTask(target,task)}},ZoneDelegate=function(){function ZoneDelegate(zone,parentDelegate,zoneSpec){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=zone,this._parentDelegate=parentDelegate,this._forkZS=zoneSpec&&(zoneSpec&&zoneSpec.onFork?zoneSpec:parentDelegate._forkZS),this._forkDlgt=zoneSpec&&(zoneSpec.onFork?parentDelegate:parentDelegate._forkDlgt),this._forkCurrZone=zoneSpec&&(zoneSpec.onFork?this.zone:parentDelegate.zone),this._interceptZS=zoneSpec&&(zoneSpec.onIntercept?zoneSpec:parentDelegate._interceptZS),this._interceptDlgt=zoneSpec&&(zoneSpec.onIntercept?parentDelegate:parentDelegate._interceptDlgt),this._interceptCurrZone=zoneSpec&&(zoneSpec.onIntercept?this.zone:parentDelegate.zone),this._invokeZS=zoneSpec&&(zoneSpec.onInvoke?zoneSpec:parentDelegate._invokeZS),this._invokeDlgt=zoneSpec&&(zoneSpec.onInvoke?parentDelegate:parentDelegate._invokeDlgt),this._invokeCurrZone=zoneSpec&&(zoneSpec.onInvoke?this.zone:parentDelegate.zone),this._handleErrorZS=zoneSpec&&(zoneSpec.onHandleError?zoneSpec:parentDelegate._handleErrorZS),this._handleErrorDlgt=zoneSpec&&(zoneSpec.onHandleError?parentDelegate:parentDelegate._handleErrorDlgt),this._handleErrorCurrZone=zoneSpec&&(zoneSpec.onHandleError?this.zone:parentDelegate.zone),this._scheduleTaskZS=zoneSpec&&(zoneSpec.onScheduleTask?zoneSpec:parentDelegate._scheduleTaskZS),this._scheduleTaskDlgt=zoneSpec&&(zoneSpec.onScheduleTask?parentDelegate:parentDelegate._scheduleTaskDlgt),this._scheduleTaskCurrZone=zoneSpec&&(zoneSpec.onScheduleTask?this.zone:parentDelegate.zone),this._invokeTaskZS=zoneSpec&&(zoneSpec.onInvokeTask?zoneSpec:parentDelegate._invokeTaskZS),this._invokeTaskDlgt=zoneSpec&&(zoneSpec.onInvokeTask?parentDelegate:parentDelegate._invokeTaskDlgt),this._invokeTaskCurrZone=zoneSpec&&(zoneSpec.onInvokeTask?this.zone:parentDelegate.zone),this._cancelTaskZS=zoneSpec&&(zoneSpec.onCancelTask?zoneSpec:parentDelegate._cancelTaskZS),this._cancelTaskDlgt=zoneSpec&&(zoneSpec.onCancelTask?parentDelegate:parentDelegate._cancelTaskDlgt),this._cancelTaskCurrZone=zoneSpec&&(zoneSpec.onCancelTask?this.zone:parentDelegate.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var zoneSpecHasTask=zoneSpec&&zoneSpec.onHasTask,parentHasTask=parentDelegate&&parentDelegate._hasTaskZS;(zoneSpecHasTask||parentHasTask)&&(this._hasTaskZS=zoneSpecHasTask?zoneSpec:DELEGATE_ZS,this._hasTaskDlgt=parentDelegate,(this._hasTaskDlgtOwner=this)._hasTaskCurrZone=zone,zoneSpec.onScheduleTask||(this._scheduleTaskZS=DELEGATE_ZS,this._scheduleTaskDlgt=parentDelegate,this._scheduleTaskCurrZone=this.zone),zoneSpec.onInvokeTask||(this._invokeTaskZS=DELEGATE_ZS,this._invokeTaskDlgt=parentDelegate,this._invokeTaskCurrZone=this.zone),zoneSpec.onCancelTask||(this._cancelTaskZS=DELEGATE_ZS,this._cancelTaskDlgt=parentDelegate,this._cancelTaskCurrZone=this.zone))}return ZoneDelegate.prototype.fork=function(targetZone,zoneSpec){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,targetZone,zoneSpec):new Zone(targetZone,zoneSpec)},ZoneDelegate.prototype.intercept=function(targetZone,callback,source){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,targetZone,callback,source):callback},ZoneDelegate.prototype.invoke=function(targetZone,callback,applyThis,applyArgs,source){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,targetZone,callback,applyThis,applyArgs,source):callback.apply(applyThis,applyArgs)},ZoneDelegate.prototype.handleError=function(targetZone,error){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,targetZone,error)},ZoneDelegate.prototype.scheduleTask=function(targetZone,task){var returnTask=task;if(this._scheduleTaskZS)this._hasTaskZS&&returnTask._zoneDelegates.push(this._hasTaskDlgtOwner),(returnTask=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,targetZone,task))||(returnTask=task);else if(task.scheduleFn)task.scheduleFn(task);else{if(task.type!=microTask)throw new Error("Task is missing scheduleFn.");scheduleMicroTask(task)}return returnTask},ZoneDelegate.prototype.invokeTask=function(targetZone,task,applyThis,applyArgs){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,targetZone,task,applyThis,applyArgs):task.callback.apply(applyThis,applyArgs)},ZoneDelegate.prototype.cancelTask=function(targetZone,task){var value;if(this._cancelTaskZS)value=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,targetZone,task);else{if(!task.cancelFn)throw Error("Task is not cancelable");value=task.cancelFn(task)}return value},ZoneDelegate.prototype.hasTask=function(targetZone,isEmpty){try{return this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,targetZone,isEmpty)}catch(err){this.handleError(targetZone,err)}},ZoneDelegate.prototype._updateTaskCount=function(type,count){var counts=this._taskCounts,prev=counts[type],next=counts[type]=prev+count;if(next<0)throw new Error("More tasks executed then were scheduled.");if(0==prev||0==next){var isEmpty={microTask:0<counts.microTask,macroTask:0<counts.macroTask,eventTask:0<counts.eventTask,change:type};this.hasTask(this.zone,isEmpty)}},ZoneDelegate}(),ZoneTask=function(){function ZoneTask(type,source,callback,options,scheduleFn,cancelFn){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=type,this.source=source,this.data=options,this.scheduleFn=scheduleFn,this.cancelFn=cancelFn,this.callback=callback;var self=this;type===eventTask&&options&&options.useG?this.invoke=ZoneTask.invokeTask:this.invoke=function(){return ZoneTask.invokeTask.call(global,self,this,arguments)}}return ZoneTask.invokeTask=function(task,target,args){task||(task=this),_numberOfNestedTaskFrames++;try{return task.runCount++,task.zone.runTask(task,target,args)}finally{1==_numberOfNestedTaskFrames&&drainMicroTaskQueue(),_numberOfNestedTaskFrames--}},Object.defineProperty(ZoneTask.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),Object.defineProperty(ZoneTask.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),ZoneTask.prototype.cancelScheduleRequest=function(){this._transitionTo(notScheduled,scheduling)},ZoneTask.prototype._transitionTo=function(toState,fromState1,fromState2){if(this._state!==fromState1&&this._state!==fromState2)throw new Error(this.type+" '"+this.source+"': can not transition to '"+toState+"', expecting state '"+fromState1+"'"+(fromState2?" or '"+fromState2+"'":"")+", was '"+this._state+"'.");(this._state=toState)==notScheduled&&(this._zoneDelegates=null)},ZoneTask.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId:Object.prototype.toString.call(this)},ZoneTask.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},ZoneTask}(),symbolSetTimeout=__symbol__("setTimeout"),symbolPromise=__symbol__("Promise"),symbolThen=__symbol__("then"),_microTaskQueue=[],_isDrainingMicrotaskQueue=!1;function scheduleMicroTask(task){0===_numberOfNestedTaskFrames&&0===_microTaskQueue.length&&(nativeMicroTaskQueuePromise||global[symbolPromise]&&(nativeMicroTaskQueuePromise=global[symbolPromise].resolve(0)),nativeMicroTaskQueuePromise?nativeMicroTaskQueuePromise[symbolThen](drainMicroTaskQueue):global[symbolSetTimeout](drainMicroTaskQueue,0)),task&&_microTaskQueue.push(task)}function drainMicroTaskQueue(){if(!_isDrainingMicrotaskQueue){for(_isDrainingMicrotaskQueue=!0;_microTaskQueue.length;){var queue=_microTaskQueue;_microTaskQueue=[];for(var i=0;i<queue.length;i++){var task=queue[i];try{task.zone.runTask(task,null,null)}catch(error){_api.onUnhandledError(error)}}}_api.microtaskDrainDone(),_isDrainingMicrotaskQueue=!1}}var NO_ZONE={name:"NO ZONE"},notScheduled="notScheduled",scheduling="scheduling",scheduled="scheduled",running="running",canceling="canceling",unknown="unknown",microTask="microTask",macroTask="macroTask",eventTask="eventTask",patches={},_api={symbol:__symbol__,currentZoneFrame:function(){return _currentZoneFrame},onUnhandledError:noop,microtaskDrainDone:noop,scheduleMicroTask:scheduleMicroTask,showUncaughtError:function(){return!Zone[__symbol__("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:noop,patchMethod:function(){return noop},bindArguments:function(){return null},setNativePromise:function(NativePromise){NativePromise&&"function"==typeof NativePromise.resolve&&(nativeMicroTaskQueuePromise=NativePromise.resolve(0))}},_currentZoneFrame={parent:null,zone:new Zone(null,null)},_currentTask=null,_numberOfNestedTaskFrames=0;function noop(){}function __symbol__(name){return"__zone_symbol__"+name}performanceMeasure("Zone","Zone"),global.Zone=Zone}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);Zone.__load_patch("ZoneAwarePromise",function(global,Zone,api){var ObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ObjectDefineProperty=Object.defineProperty;var __symbol__=api.symbol,_uncaughtPromiseErrors=[],symbolPromise=__symbol__("Promise"),symbolThen=__symbol__("then"),creationTrace="__creationTrace__";api.onUnhandledError=function(e){if(api.showUncaughtError()){var rejection=e&&e.rejection;rejection?console.error("Unhandled Promise rejection:",rejection instanceof Error?rejection.message:rejection,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",rejection,rejection instanceof Error?rejection.stack:void 0):console.error(e)}},api.microtaskDrainDone=function(){for(;_uncaughtPromiseErrors.length;)for(var _loop_1=function(){var uncaughtPromiseError=_uncaughtPromiseErrors.shift();try{uncaughtPromiseError.zone.runGuarded(function(){throw uncaughtPromiseError})}catch(error){handleUnhandledRejection(error)}};_uncaughtPromiseErrors.length;)_loop_1()};var UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL=__symbol__("unhandledPromiseRejectionHandler");function handleUnhandledRejection(e){api.onUnhandledError(e);try{var handler=Zone[UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL];handler&&"function"==typeof handler&&handler.call(this,e)}catch(err){}}function isThenable(value){return value&&value.then}function forwardResolution(value){return value}function forwardRejection(rejection){return ZoneAwarePromise.reject(rejection)}var symbolState=__symbol__("state"),symbolValue=__symbol__("value"),symbolFinally=__symbol__("finally"),symbolParentPromiseValue=__symbol__("parentPromiseValue"),symbolParentPromiseState=__symbol__("parentPromiseState"),source="Promise.then",UNRESOLVED=null,RESOLVED=!0,REJECTED=!1,REJECTED_NO_CATCH=0;function makeResolver(promise,state){return function(v){try{resolvePromise(promise,state,v)}catch(err){resolvePromise(promise,!1,err)}}}var once=function(){var wasCalled=!1;return function(wrappedFunction){return function(){wasCalled||(wasCalled=!0,wrappedFunction.apply(null,arguments))}}},TYPE_ERROR="Promise resolved with itself",CURRENT_TASK_TRACE_SYMBOL=__symbol__("currentTaskTrace");function resolvePromise(promise,state,value){var onceWrapper=once();if(promise===value)throw new TypeError(TYPE_ERROR);if(promise[symbolState]===UNRESOLVED){var then=null;try{"object"!=typeof value&&"function"!=typeof value||(then=value&&value.then)}catch(err){return onceWrapper(function(){resolvePromise(promise,!1,err)})(),promise}if(state!==REJECTED&&value instanceof ZoneAwarePromise&&value.hasOwnProperty(symbolState)&&value.hasOwnProperty(symbolValue)&&value[symbolState]!==UNRESOLVED)clearRejectedNoCatch(value),resolvePromise(promise,value[symbolState],value[symbolValue]);else if(state!==REJECTED&&"function"==typeof then)try{then.call(value,onceWrapper(makeResolver(promise,state)),onceWrapper(makeResolver(promise,!1)))}catch(err){onceWrapper(function(){resolvePromise(promise,!1,err)})()}else{promise[symbolState]=state;var queue=promise[symbolValue];if(promise[symbolValue]=value,promise[symbolFinally]===symbolFinally&&state===RESOLVED&&(promise[symbolState]=promise[symbolParentPromiseState],promise[symbolValue]=promise[symbolParentPromiseValue]),state===REJECTED&&value instanceof Error){var trace=Zone.currentTask&&Zone.currentTask.data&&Zone.currentTask.data[creationTrace];trace&&ObjectDefineProperty(value,CURRENT_TASK_TRACE_SYMBOL,{configurable:!0,enumerable:!1,writable:!0,value:trace})}for(var i=0;i<queue.length;)scheduleResolveOrReject(promise,queue[i++],queue[i++],queue[i++],queue[i++]);if(0==queue.length&&state==REJECTED){promise[symbolState]=REJECTED_NO_CATCH;try{throw new Error("Uncaught (in promise): "+function(obj){if(obj&&obj.toString===Object.prototype.toString){var className=obj.constructor&&obj.constructor.name;return(className||"")+": "+JSON.stringify(obj)}return obj?obj.toString():Object.prototype.toString.call(obj)}(value)+(value&&value.stack?"\n"+value.stack:""))}catch(err){var error_1=err;error_1.rejection=value,error_1.promise=promise,error_1.zone=Zone.current,error_1.task=Zone.currentTask,_uncaughtPromiseErrors.push(error_1),api.scheduleMicroTask()}}}}return promise}var REJECTION_HANDLED_HANDLER=__symbol__("rejectionHandledHandler");function clearRejectedNoCatch(promise){if(promise[symbolState]===REJECTED_NO_CATCH){try{var handler=Zone[REJECTION_HANDLED_HANDLER];handler&&"function"==typeof handler&&handler.call(this,{rejection:promise[symbolValue],promise:promise})}catch(err){}promise[symbolState]=REJECTED;for(var i=0;i<_uncaughtPromiseErrors.length;i++)promise===_uncaughtPromiseErrors[i].promise&&_uncaughtPromiseErrors.splice(i,1)}}function scheduleResolveOrReject(promise,zone,chainPromise,onFulfilled,onRejected){clearRejectedNoCatch(promise);var promiseState=promise[symbolState],delegate=promiseState?"function"==typeof onFulfilled?onFulfilled:forwardResolution:"function"==typeof onRejected?onRejected:forwardRejection;zone.scheduleMicroTask(source,function(){try{var parentPromiseValue=promise[symbolValue],isFinallyPromise=chainPromise&&symbolFinally===chainPromise[symbolFinally];isFinallyPromise&&(chainPromise[symbolParentPromiseValue]=parentPromiseValue,chainPromise[symbolParentPromiseState]=promiseState);var value=zone.run(delegate,void 0,isFinallyPromise&&delegate!==forwardRejection&&delegate!==forwardResolution?[]:[parentPromiseValue]);resolvePromise(chainPromise,!0,value)}catch(error){resolvePromise(chainPromise,!1,error)}},chainPromise)}var ZoneAwarePromise=function(){function ZoneAwarePromise(executor){var promise=this;if(!(promise instanceof ZoneAwarePromise))throw new Error("Must be an instanceof Promise.");promise[symbolState]=UNRESOLVED,promise[symbolValue]=[];try{executor&&executor(makeResolver(promise,RESOLVED),makeResolver(promise,REJECTED))}catch(error){resolvePromise(promise,!1,error)}}return ZoneAwarePromise.toString=function(){return"function ZoneAwarePromise() { [native code] }"},ZoneAwarePromise.resolve=function(value){return resolvePromise(new this(null),RESOLVED,value)},ZoneAwarePromise.reject=function(error){return resolvePromise(new this(null),REJECTED,error)},ZoneAwarePromise.race=function(values){var resolve,reject,promise=new this(function(res,rej){resolve=res,reject=rej});function onResolve(value){promise&&(promise=resolve(value))}function onReject(error){promise&&(promise=reject(error))}for(var _i=0,values_1=values;_i<values_1.length;_i++){var value=values_1[_i];isThenable(value)||(value=this.resolve(value)),value.then(onResolve,onReject)}return promise},ZoneAwarePromise.all=function(values){for(var resolve,reject,promise=new this(function(res,rej){resolve=res,reject=rej}),count=0,resolvedValues=[],_i=0,values_2=values;_i<values_2.length;_i++){var value=values_2[_i];isThenable(value)||(value=this.resolve(value)),value.then(function(index){return function(value){resolvedValues[index]=value,--count||resolve(resolvedValues)}}(count),reject),count++}return count||resolve(resolvedValues),promise},ZoneAwarePromise.prototype.then=function(onFulfilled,onRejected){var chainPromise=new this.constructor(null),zone=Zone.current;return this[symbolState]==UNRESOLVED?this[symbolValue].push(zone,chainPromise,onFulfilled,onRejected):scheduleResolveOrReject(this,zone,chainPromise,onFulfilled,onRejected),chainPromise},ZoneAwarePromise.prototype.catch=function(onRejected){return this.then(null,onRejected)},ZoneAwarePromise.prototype.finally=function(onFinally){var chainPromise=new this.constructor(null);chainPromise[symbolFinally]=symbolFinally;var zone=Zone.current;return this[symbolState]==UNRESOLVED?this[symbolValue].push(zone,chainPromise,onFinally,onFinally):scheduleResolveOrReject(this,zone,chainPromise,onFinally,onFinally),chainPromise},ZoneAwarePromise}();ZoneAwarePromise.resolve=ZoneAwarePromise.resolve,ZoneAwarePromise.reject=ZoneAwarePromise.reject,ZoneAwarePromise.race=ZoneAwarePromise.race,ZoneAwarePromise.all=ZoneAwarePromise.all;var NativePromise=global[symbolPromise]=global.Promise,ZONE_AWARE_PROMISE=Zone.__symbol__("ZoneAwarePromise"),desc=ObjectGetOwnPropertyDescriptor(global,"Promise");desc&&!desc.configurable||(desc&&delete desc.writable,desc&&delete desc.value,desc||(desc={configurable:!0,enumerable:!0}),desc.get=function(){return global[ZONE_AWARE_PROMISE]?global[ZONE_AWARE_PROMISE]:global[symbolPromise]},desc.set=function(NewNativePromise){NewNativePromise===ZoneAwarePromise?global[ZONE_AWARE_PROMISE]=NewNativePromise:((global[symbolPromise]=NewNativePromise).prototype[symbolThen]||patchThen(NewNativePromise),api.setNativePromise(NewNativePromise))},ObjectDefineProperty(global,"Promise",desc)),global.Promise=ZoneAwarePromise;var fn,symbolThenPatched=__symbol__("thenPatched");function patchThen(Ctor){var proto=Ctor.prototype,prop=ObjectGetOwnPropertyDescriptor(proto,"then");if(!prop||!1!==prop.writable&&prop.configurable){var originalThen=proto.then;proto[symbolThen]=originalThen,Ctor.prototype.then=function(onResolve,onReject){var _this=this;return new ZoneAwarePromise(function(resolve,reject){originalThen.call(_this,resolve,reject)}).then(onResolve,onReject)},Ctor[symbolThenPatched]=!0}}if(NativePromise){patchThen(NativePromise);var fetch_1=global.fetch;"function"==typeof fetch_1&&(global.fetch=(fn=fetch_1,function(){var resultPromise=fn.apply(this,arguments);if(resultPromise instanceof ZoneAwarePromise)return resultPromise;var ctor=resultPromise.constructor;return ctor[symbolThenPatched]||patchThen(ctor),resultPromise}))}return Promise[Zone.__symbol__("uncaughtPromiseErrors")]=_uncaughtPromiseErrors,ZoneAwarePromise});var ObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ObjectDefineProperty=Object.defineProperty,ObjectGetPrototypeOf=Object.getPrototypeOf,ObjectCreate=Object.create,ArraySlice=Array.prototype.slice,ADD_EVENT_LISTENER_STR="addEventListener",REMOVE_EVENT_LISTENER_STR="removeEventListener",ZONE_SYMBOL_ADD_EVENT_LISTENER=Zone.__symbol__(ADD_EVENT_LISTENER_STR),ZONE_SYMBOL_REMOVE_EVENT_LISTENER=Zone.__symbol__(REMOVE_EVENT_LISTENER_STR),TRUE_STR="true",FALSE_STR="false",ZONE_SYMBOL_PREFIX="__zone_symbol__";function wrapWithCurrentZone(callback,source){return Zone.current.wrap(callback,source)}function scheduleMacroTaskWithCurrentZone(source,callback,data,customSchedule,customCancel){return Zone.current.scheduleMacroTask(source,callback,data,customSchedule,customCancel)}var zoneSymbol=Zone.__symbol__,isWindowExists="undefined"!=typeof window,internalWindow=isWindowExists?window:void 0,_global=isWindowExists&&internalWindow||"object"==typeof self&&self||global,REMOVE_ATTRIBUTE="removeAttribute",NULL_ON_PROP_VALUE=[null];function bindArguments(args,source){for(var i=args.length-1;0<=i;i--)"function"==typeof args[i]&&(args[i]=wrapWithCurrentZone(args[i],source+"_"+i));return args}function isPropertyWritable(propertyDesc){return!propertyDesc||!1!==propertyDesc.writable&&!("function"==typeof propertyDesc.get&&void 0===propertyDesc.set)}var isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,isNode=!("nw"in _global)&&void 0!==_global.process&&"[object process]"==={}.toString.call(_global.process),isBrowser=!isNode&&!isWebWorker&&!(!isWindowExists||!internalWindow.HTMLElement),isMix=void 0!==_global.process&&"[object process]"==={}.toString.call(_global.process)&&!isWebWorker&&!(!isWindowExists||!internalWindow.HTMLElement),zoneSymbolEventNames={},wrapFn=function(event){if(event=event||_global.event){var eventNameSymbol=zoneSymbolEventNames[event.type];eventNameSymbol||(eventNameSymbol=zoneSymbolEventNames[event.type]=zoneSymbol("ON_PROPERTY"+event.type));var listener=(this||event.target||_global)[eventNameSymbol],result=listener&&listener.apply(this,arguments);return null==result||result||event.preventDefault(),result}};function patchProperty(obj,prop,prototype){var desc=ObjectGetOwnPropertyDescriptor(obj,prop);!desc&&prototype&&(ObjectGetOwnPropertyDescriptor(prototype,prop)&&(desc={enumerable:!0,configurable:!0}));if(desc&&desc.configurable){delete desc.writable,delete desc.value;var originalDescGet=desc.get,originalDescSet=desc.set,eventName=prop.substr(2),eventNameSymbol=zoneSymbolEventNames[eventName];eventNameSymbol||(eventNameSymbol=zoneSymbolEventNames[eventName]=zoneSymbol("ON_PROPERTY"+eventName)),desc.set=function(newValue){var target=this;(target||obj!==_global||(target=_global),target)&&(target[eventNameSymbol]&&target.removeEventListener(eventName,wrapFn),originalDescSet&&originalDescSet.apply(target,NULL_ON_PROP_VALUE),"function"==typeof newValue?(target[eventNameSymbol]=newValue,target.addEventListener(eventName,wrapFn,!1)):target[eventNameSymbol]=null)},desc.get=function(){var target=this;if(target||obj!==_global||(target=_global),!target)return null;var listener=target[eventNameSymbol];if(listener)return listener;if(originalDescGet){var value=originalDescGet&&originalDescGet.call(this);if(value)return desc.set.call(this,value),"function"==typeof target[REMOVE_ATTRIBUTE]&&target.removeAttribute(prop),value}return null},ObjectDefineProperty(obj,prop,desc)}}function patchOnProperties(obj,properties,prototype){if(properties)for(var i=0;i<properties.length;i++)patchProperty(obj,"on"+properties[i],prototype);else{var onProperties=[];for(var prop in obj)"on"==prop.substr(0,2)&&onProperties.push(prop);for(var j=0;j<onProperties.length;j++)patchProperty(obj,onProperties[j],prototype)}}var originalInstanceKey=zoneSymbol("originalInstance");function patchClass(className){var OriginalClass=_global[className];if(OriginalClass){_global[zoneSymbol(className)]=OriginalClass,_global[className]=function(){var a=bindArguments(arguments,className);switch(a.length){case 0:this[originalInstanceKey]=new OriginalClass;break;case 1:this[originalInstanceKey]=new OriginalClass(a[0]);break;case 2:this[originalInstanceKey]=new OriginalClass(a[0],a[1]);break;case 3:this[originalInstanceKey]=new OriginalClass(a[0],a[1],a[2]);break;case 4:this[originalInstanceKey]=new OriginalClass(a[0],a[1],a[2],a[3]);break;default:throw new Error("Arg list too long.")}},attachOriginToPatched(_global[className],OriginalClass);var prop,instance=new OriginalClass(function(){});for(prop in instance)"XMLHttpRequest"===className&&"responseBlob"===prop||function(prop){"function"==typeof instance[prop]?_global[className].prototype[prop]=function(){return this[originalInstanceKey][prop].apply(this[originalInstanceKey],arguments)}:ObjectDefineProperty(_global[className].prototype,prop,{set:function(fn){"function"==typeof fn?(this[originalInstanceKey][prop]=wrapWithCurrentZone(fn,className+"."+prop),attachOriginToPatched(this[originalInstanceKey][prop],fn)):this[originalInstanceKey][prop]=fn},get:function(){return this[originalInstanceKey][prop]}})}(prop);for(prop in OriginalClass)"prototype"!==prop&&OriginalClass.hasOwnProperty(prop)&&(_global[className][prop]=OriginalClass[prop])}}function patchMethod(target,name,patchFn){for(var proto=target;proto&&!proto.hasOwnProperty(name);)proto=ObjectGetPrototypeOf(proto);!proto&&target[name]&&(proto=target);var delegate,delegateName=zoneSymbol(name);if(proto&&!(delegate=proto[delegateName])&&(delegate=proto[delegateName]=proto[name],isPropertyWritable(proto&&ObjectGetOwnPropertyDescriptor(proto,name)))){var patchDelegate_1=patchFn(delegate,delegateName,name);proto[name]=function(){return patchDelegate_1(this,arguments)},attachOriginToPatched(proto[name],delegate)}return delegate}function attachOriginToPatched(patched,original){patched[zoneSymbol("OriginalDelegate")]=original}var isDetectedIEOrEdge=!1,ieOrEdge=!1;function isIEOrEdge(){if(isDetectedIEOrEdge)return ieOrEdge;isDetectedIEOrEdge=!0;try{var ua=internalWindow.navigator.userAgent;return-1===ua.indexOf("MSIE ")&&-1===ua.indexOf("Trident/")&&-1===ua.indexOf("Edge/")||(ieOrEdge=!0),ieOrEdge}catch(error){}}Zone.__load_patch("toString",function(global){var originalFunctionToString=Function.prototype.toString,ORIGINAL_DELEGATE_SYMBOL=zoneSymbol("OriginalDelegate"),PROMISE_SYMBOL=zoneSymbol("Promise"),ERROR_SYMBOL=zoneSymbol("Error"),newFunctionToString=function(){if("function"==typeof this){var originalDelegate=this[ORIGINAL_DELEGATE_SYMBOL];if(originalDelegate)return"function"==typeof originalDelegate?originalFunctionToString.apply(this[ORIGINAL_DELEGATE_SYMBOL],arguments):Object.prototype.toString.call(originalDelegate);if(this===Promise){var nativePromise=global[PROMISE_SYMBOL];if(nativePromise)return originalFunctionToString.apply(nativePromise,arguments)}if(this===Error){var nativeError=global[ERROR_SYMBOL];if(nativeError)return originalFunctionToString.apply(nativeError,arguments)}}return originalFunctionToString.apply(this,arguments)};newFunctionToString[ORIGINAL_DELEGATE_SYMBOL]=originalFunctionToString,Function.prototype.toString=newFunctionToString;var originalObjectToString=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":originalObjectToString.apply(this,arguments)}});var OPTIMIZED_ZONE_EVENT_TASK_DATA={useG:!0},zoneSymbolEventNames$1={},globalSources={},EVENT_NAME_SYMBOL_REGX=/^__zone_symbol__(\w+)(true|false)$/,IMMEDIATE_PROPAGATION_SYMBOL="__zone_symbol__propagationStopped";function patchEventTarget(_global,apis,patchOptions){var ADD_EVENT_LISTENER=patchOptions&&patchOptions.add||ADD_EVENT_LISTENER_STR,REMOVE_EVENT_LISTENER=patchOptions&&patchOptions.rm||REMOVE_EVENT_LISTENER_STR,LISTENERS_EVENT_LISTENER=patchOptions&&patchOptions.listeners||"eventListeners",REMOVE_ALL_LISTENERS_EVENT_LISTENER=patchOptions&&patchOptions.rmAll||"removeAllListeners",zoneSymbolAddEventListener=zoneSymbol(ADD_EVENT_LISTENER),ADD_EVENT_LISTENER_SOURCE="."+ADD_EVENT_LISTENER+":",PREPEND_EVENT_LISTENER="prependListener",PREPEND_EVENT_LISTENER_SOURCE="."+PREPEND_EVENT_LISTENER+":",invokeTask=function(task,target,event){if(!task.isRemoved){var delegate=task.callback;"object"==typeof delegate&&delegate.handleEvent&&(task.callback=function(event){return delegate.handleEvent(event)},task.originalDelegate=delegate),task.invoke(task,target,[event]);var options=task.options;if(options&&"object"==typeof options&&options.once){var delegate_1=task.originalDelegate?task.originalDelegate:task.callback;target[REMOVE_EVENT_LISTENER].call(target,event.type,delegate_1,options)}}},globalZoneAwareCallback=function(event){if(event=event||_global.event){var target=this||event.target||_global,tasks=target[zoneSymbolEventNames$1[event.type][FALSE_STR]];if(tasks)if(1===tasks.length)invokeTask(tasks[0],target,event);else for(var copyTasks=tasks.slice(),i=0;i<copyTasks.length&&(!event||!0!==event[IMMEDIATE_PROPAGATION_SYMBOL]);i++)invokeTask(copyTasks[i],target,event)}},globalZoneAwareCaptureCallback=function(event){if(event=event||_global.event){var target=this||event.target||_global,tasks=target[zoneSymbolEventNames$1[event.type][TRUE_STR]];if(tasks)if(1===tasks.length)invokeTask(tasks[0],target,event);else for(var copyTasks=tasks.slice(),i=0;i<copyTasks.length&&(!event||!0!==event[IMMEDIATE_PROPAGATION_SYMBOL]);i++)invokeTask(copyTasks[i],target,event)}};function patchEventTargetMethods(obj,patchOptions){if(!obj)return!1;var useGlobalCallback=!0;patchOptions&&void 0!==patchOptions.useG&&(useGlobalCallback=patchOptions.useG);var validateHandler=patchOptions&&patchOptions.vh,checkDuplicate=!0;patchOptions&&void 0!==patchOptions.chkDup&&(checkDuplicate=patchOptions.chkDup);var returnTarget=!1;patchOptions&&void 0!==patchOptions.rt&&(returnTarget=patchOptions.rt);for(var proto=obj;proto&&!proto.hasOwnProperty(ADD_EVENT_LISTENER);)proto=ObjectGetPrototypeOf(proto);if(!proto&&obj[ADD_EVENT_LISTENER]&&(proto=obj),!proto)return!1;if(proto[zoneSymbolAddEventListener])return!1;var nativePrependEventListener,taskData={},nativeAddEventListener=proto[zoneSymbolAddEventListener]=proto[ADD_EVENT_LISTENER],nativeRemoveEventListener=proto[zoneSymbol(REMOVE_EVENT_LISTENER)]=proto[REMOVE_EVENT_LISTENER],nativeListeners=proto[zoneSymbol(LISTENERS_EVENT_LISTENER)]=proto[LISTENERS_EVENT_LISTENER],nativeRemoveAllListeners=proto[zoneSymbol(REMOVE_ALL_LISTENERS_EVENT_LISTENER)]=proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER];patchOptions&&patchOptions.prepend&&(nativePrependEventListener=proto[zoneSymbol(patchOptions.prepend)]=proto[patchOptions.prepend]);var customSchedule=useGlobalCallback?function(){if(!taskData.isExisting)return nativeAddEventListener.call(taskData.target,taskData.eventName,taskData.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,taskData.options)}:function(task){return nativeAddEventListener.call(taskData.target,taskData.eventName,task.invoke,taskData.options)},customCancel=useGlobalCallback?function(task){if(!task.isRemoved){var symbolEventNames=zoneSymbolEventNames$1[task.eventName],symbolEventName=void 0;symbolEventNames&&(symbolEventName=symbolEventNames[task.capture?TRUE_STR:FALSE_STR]);var existingTasks=symbolEventName&&task.target[symbolEventName];if(existingTasks)for(var i=0;i<existingTasks.length;i++)if(existingTasks[i]===task){existingTasks.splice(i,1),task.isRemoved=!0,0===existingTasks.length&&(task.allRemoved=!0,task.target[symbolEventName]=null);break}}if(task.allRemoved)return nativeRemoveEventListener.call(task.target,task.eventName,task.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,task.options)}:function(task){return nativeRemoveEventListener.call(task.target,task.eventName,task.invoke,task.options)},compare=patchOptions&&patchOptions.diff?patchOptions.diff:function(task,delegate){var typeOfDelegate=typeof delegate;return"function"===typeOfDelegate&&task.callback===delegate||"object"===typeOfDelegate&&task.originalDelegate===delegate},blackListedEvents=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],makeAddListener=function(nativeListener,addSource,customScheduleFn,customCancelFn,returnTarget,prepend){return void 0===returnTarget&&(returnTarget=!1),void 0===prepend&&(prepend=!1),function(){var target=this||_global,delegate=arguments[1];if(!delegate)return nativeListener.apply(this,arguments);var isHandleEvent=!1;if("function"!=typeof delegate){if(!delegate.handleEvent)return nativeListener.apply(this,arguments);isHandleEvent=!0}if(!validateHandler||validateHandler(nativeListener,delegate,target,arguments)){var capture,eventName=arguments[0],options=arguments[2];if(blackListedEvents)for(var i=0;i<blackListedEvents.length;i++)if(eventName===blackListedEvents[i])return nativeListener.apply(this,arguments);var once=!1;void 0===options?capture=!1:!0===options?capture=!0:!1===options?capture=!1:(capture=!!options&&!!options.capture,once=!!options&&!!options.once);var symbolEventName,zone=Zone.current,symbolEventNames=zoneSymbolEventNames$1[eventName];if(symbolEventNames)symbolEventName=symbolEventNames[capture?TRUE_STR:FALSE_STR];else{var symbol=ZONE_SYMBOL_PREFIX+(eventName+FALSE_STR),symbolCapture=ZONE_SYMBOL_PREFIX+(eventName+TRUE_STR);zoneSymbolEventNames$1[eventName]={},zoneSymbolEventNames$1[eventName][FALSE_STR]=symbol,zoneSymbolEventNames$1[eventName][TRUE_STR]=symbolCapture,symbolEventName=capture?symbolCapture:symbol}var source,existingTasks=target[symbolEventName],isExisting=!1;if(existingTasks){if(isExisting=!0,checkDuplicate)for(i=0;i<existingTasks.length;i++)if(compare(existingTasks[i],delegate))return}else existingTasks=target[symbolEventName]=[];var constructorName=target.constructor.name,targetSource=globalSources[constructorName];targetSource&&(source=targetSource[eventName]),source||(source=constructorName+addSource+eventName),taskData.options=options,once&&(taskData.options.once=!1),taskData.target=target,taskData.capture=capture,taskData.eventName=eventName,taskData.isExisting=isExisting;var data=useGlobalCallback?OPTIMIZED_ZONE_EVENT_TASK_DATA:null;data&&(data.taskData=taskData);var task=zone.scheduleEventTask(source,delegate,data,customScheduleFn,customCancelFn);return taskData.target=null,data&&(data.taskData=null),once&&(options.once=!0),task.options=options,task.target=target,task.capture=capture,task.eventName=eventName,isHandleEvent&&(task.originalDelegate=delegate),prepend?existingTasks.unshift(task):existingTasks.push(task),returnTarget?target:void 0}}};return proto[ADD_EVENT_LISTENER]=makeAddListener(nativeAddEventListener,ADD_EVENT_LISTENER_SOURCE,customSchedule,customCancel,returnTarget),nativePrependEventListener&&(proto[PREPEND_EVENT_LISTENER]=makeAddListener(nativePrependEventListener,PREPEND_EVENT_LISTENER_SOURCE,function(task){return nativePrependEventListener.call(taskData.target,taskData.eventName,task.invoke,taskData.options)},customCancel,returnTarget,!0)),proto[REMOVE_EVENT_LISTENER]=function(){var capture,target=this||_global,eventName=arguments[0],options=arguments[2];capture=void 0!==options&&(!0===options||!1!==options&&(!!options&&!!options.capture));var delegate=arguments[1];if(!delegate)return nativeRemoveEventListener.apply(this,arguments);if(!validateHandler||validateHandler(nativeRemoveEventListener,delegate,target,arguments)){var symbolEventName,symbolEventNames=zoneSymbolEventNames$1[eventName];symbolEventNames&&(symbolEventName=symbolEventNames[capture?TRUE_STR:FALSE_STR]);var existingTasks=symbolEventName&&target[symbolEventName];if(existingTasks)for(var i=0;i<existingTasks.length;i++){var existingTask=existingTasks[i];if(compare(existingTask,delegate))return existingTasks.splice(i,1),existingTask.isRemoved=!0,0===existingTasks.length&&(existingTask.allRemoved=!0,target[symbolEventName]=null),existingTask.zone.cancelTask(existingTask),returnTarget?target:void 0}return nativeRemoveEventListener.apply(this,arguments)}},proto[LISTENERS_EVENT_LISTENER]=function(){for(var listeners=[],tasks=findEventTasks(this||_global,arguments[0]),i=0;i<tasks.length;i++){var task=tasks[i],delegate=task.originalDelegate?task.originalDelegate:task.callback;listeners.push(delegate)}return listeners},proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER]=function(){var target=this||_global,eventName=arguments[0];if(eventName){var symbolEventNames=zoneSymbolEventNames$1[eventName];if(symbolEventNames){var symbolEventName=symbolEventNames[FALSE_STR],symbolCaptureEventName=symbolEventNames[TRUE_STR],tasks=target[symbolEventName],captureTasks=target[symbolCaptureEventName];if(tasks){var removeTasks=tasks.slice();for(i=0;i<removeTasks.length;i++){var delegate=(task=removeTasks[i]).originalDelegate?task.originalDelegate:task.callback;this[REMOVE_EVENT_LISTENER].call(this,eventName,delegate,task.options)}}if(captureTasks)for(removeTasks=captureTasks.slice(),i=0;i<removeTasks.length;i++){var task;delegate=(task=removeTasks[i]).originalDelegate?task.originalDelegate:task.callback;this[REMOVE_EVENT_LISTENER].call(this,eventName,delegate,task.options)}}}else{for(var keys=Object.keys(target),i=0;i<keys.length;i++){var prop=keys[i],match=EVENT_NAME_SYMBOL_REGX.exec(prop),evtName=match&&match[1];evtName&&"removeListener"!==evtName&&this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this,evtName)}this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this,"removeListener")}if(returnTarget)return this},attachOriginToPatched(proto[ADD_EVENT_LISTENER],nativeAddEventListener),attachOriginToPatched(proto[REMOVE_EVENT_LISTENER],nativeRemoveEventListener),nativeRemoveAllListeners&&attachOriginToPatched(proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER],nativeRemoveAllListeners),nativeListeners&&attachOriginToPatched(proto[LISTENERS_EVENT_LISTENER],nativeListeners),!0}for(var results=[],i=0;i<apis.length;i++)results[i]=patchEventTargetMethods(apis[i],patchOptions);return results}function findEventTasks(target,eventName){var foundTasks=[];for(var prop in target){var match=EVENT_NAME_SYMBOL_REGX.exec(prop),evtName=match&&match[1];if(evtName&&(!eventName||evtName===eventName)){var tasks=target[prop];if(tasks)for(var i=0;i<tasks.length;i++)foundTasks.push(tasks[i])}}return foundTasks}var taskSymbol=zoneSymbol("zoneTask");function patchTimer(window,setName,cancelName,nameSuffix){var setNative=null,clearNative=null;cancelName+=nameSuffix;var tasksByHandleId={};function scheduleTask(task){var data=task.data;return data.args[0]=function(){try{task.invoke.apply(this,arguments)}finally{task.data&&task.data.isPeriodic||("number"==typeof data.handleId?delete tasksByHandleId[data.handleId]:data.handleId&&(data.handleId[taskSymbol]=null))}},data.handleId=setNative.apply(window,data.args),task}function clearTask(task){return clearNative(task.data.handleId)}setNative=patchMethod(window,setName+=nameSuffix,function(delegate){return function(self,args){if("function"!=typeof args[0])return delegate.apply(window,args);var options={handleId:null,isPeriodic:"Interval"===nameSuffix,delay:"Timeout"===nameSuffix||"Interval"===nameSuffix?args[1]||0:null,args:args},task=scheduleMacroTaskWithCurrentZone(setName,args[0],options,scheduleTask,clearTask);if(!task)return task;var handle=task.data.handleId;return"number"==typeof handle?tasksByHandleId[handle]=task:handle&&(handle[taskSymbol]=task),handle&&handle.ref&&handle.unref&&"function"==typeof handle.ref&&"function"==typeof handle.unref&&(task.ref=handle.ref.bind(handle),task.unref=handle.unref.bind(handle)),"number"==typeof handle||handle?handle:task}}),clearNative=patchMethod(window,cancelName,function(delegate){return function(self,args){var task,id=args[0];"number"==typeof id?task=tasksByHandleId[id]:(task=id&&id[taskSymbol])||(task=id),task&&"string"==typeof task.type?"notScheduled"!==task.state&&(task.cancelFn&&task.data.isPeriodic||0===task.runCount)&&("number"==typeof id?delete tasksByHandleId[id]:id&&(id[taskSymbol]=null),task.zone.cancelTask(task)):delegate.apply(window,args)}})}var _defineProperty=Object[zoneSymbol("defineProperty")]=Object.defineProperty,_getOwnPropertyDescriptor=Object[zoneSymbol("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,_create=Object.create,unconfigurablesKey=zoneSymbol("unconfigurables");function isUnconfigurable(obj,prop){return obj&&obj[unconfigurablesKey]&&obj[unconfigurablesKey][prop]}function rewriteDescriptor(obj,prop,desc){return Object.isFrozen(desc)||(desc.configurable=!0),desc.configurable||(obj[unconfigurablesKey]||Object.isFrozen(obj)||_defineProperty(obj,unconfigurablesKey,{writable:!0,value:{}}),obj[unconfigurablesKey]&&(obj[unconfigurablesKey][prop]=!0)),desc}function _tryDefineProperty(obj,prop,desc,originalConfigurableFlag){try{return _defineProperty(obj,prop,desc)}catch(error){if(!desc.configurable)throw error;void 0===originalConfigurableFlag?delete desc.configurable:desc.configurable=originalConfigurableFlag;try{return _defineProperty(obj,prop,desc)}catch(error){var descJson=null;try{descJson=JSON.stringify(desc)}catch(error){descJson=desc.toString()}console.log("Attempting to configure '"+prop+"' with descriptor '"+descJson+"' on object '"+obj+"' and got error, giving up: "+error)}}}var windowEventNames=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],mediaElementEventNames=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],frameEventNames=["load"],frameSetEventNames=["blur","error","focus","load","resize","scroll","messageerror"],marqueeEventNames=["bounce","finish","start"],XMLHttpRequestEventNames=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],IDBIndexEventNames=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],websocketEventNames=["close","error","open","message"],workerEventNames=["error","message"],eventNames=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange"],windowEventNames,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function patchFilteredProperties(target,onProperties,ignoreProperties,prototype){target&&patchOnProperties(target,function(target,onProperties,ignoreProperties){if(!ignoreProperties)return onProperties;var tip=ignoreProperties.filter(function(ip){return ip.target===target});if(!tip||0===tip.length)return onProperties;var targetIgnoreProperties=tip[0].ignoreProperties;return onProperties.filter(function(op){return-1===targetIgnoreProperties.indexOf(op)})}(target,onProperties,ignoreProperties),prototype)}function propertyDescriptorPatch(api,_global){if(!isNode||isMix){var supportsWebSocket="undefined"!=typeof WebSocket;if(function(){if((isBrowser||isMix)&&!ObjectGetOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var desc=ObjectGetOwnPropertyDescriptor(Element.prototype,"onclick");if(desc&&!desc.configurable)return!1}var XMLHttpRequestPrototype=XMLHttpRequest.prototype,xhrDesc=ObjectGetOwnPropertyDescriptor(XMLHttpRequestPrototype,"onreadystatechange");{if(xhrDesc){ObjectDefineProperty(XMLHttpRequestPrototype,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}});var req=new XMLHttpRequest,result=!!req.onreadystatechange;return ObjectDefineProperty(XMLHttpRequestPrototype,"onreadystatechange",xhrDesc||{}),result}var SYMBOL_FAKE_ONREADYSTATECHANGE_1=zoneSymbol("fake");ObjectDefineProperty(XMLHttpRequestPrototype,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[SYMBOL_FAKE_ONREADYSTATECHANGE_1]},set:function(value){this[SYMBOL_FAKE_ONREADYSTATECHANGE_1]=value}});var req=new XMLHttpRequest,detectFunc=function(){};req.onreadystatechange=detectFunc;var result=req[SYMBOL_FAKE_ONREADYSTATECHANGE_1]===detectFunc;return req.onreadystatechange=null,result}}()){var ignoreProperties=_global.__Zone_ignore_on_properties;if(isBrowser){var internalWindow=window;patchFilteredProperties(internalWindow,eventNames.concat(["messageerror"]),ignoreProperties,ObjectGetPrototypeOf(internalWindow)),patchFilteredProperties(Document.prototype,eventNames,ignoreProperties),void 0!==internalWindow.SVGElement&&patchFilteredProperties(internalWindow.SVGElement.prototype,eventNames,ignoreProperties),patchFilteredProperties(Element.prototype,eventNames,ignoreProperties),patchFilteredProperties(HTMLElement.prototype,eventNames,ignoreProperties),patchFilteredProperties(HTMLMediaElement.prototype,mediaElementEventNames,ignoreProperties),patchFilteredProperties(HTMLFrameSetElement.prototype,windowEventNames.concat(frameSetEventNames),ignoreProperties),patchFilteredProperties(HTMLBodyElement.prototype,windowEventNames.concat(frameSetEventNames),ignoreProperties),patchFilteredProperties(HTMLFrameElement.prototype,frameEventNames,ignoreProperties),patchFilteredProperties(HTMLIFrameElement.prototype,frameEventNames,ignoreProperties);var HTMLMarqueeElement_1=internalWindow.HTMLMarqueeElement;HTMLMarqueeElement_1&&patchFilteredProperties(HTMLMarqueeElement_1.prototype,marqueeEventNames,ignoreProperties);var Worker_1=internalWindow.Worker;Worker_1&&patchFilteredProperties(Worker_1.prototype,workerEventNames,ignoreProperties)}patchFilteredProperties(XMLHttpRequest.prototype,XMLHttpRequestEventNames,ignoreProperties);var XMLHttpRequestEventTarget=_global.XMLHttpRequestEventTarget;XMLHttpRequestEventTarget&&patchFilteredProperties(XMLHttpRequestEventTarget&&XMLHttpRequestEventTarget.prototype,XMLHttpRequestEventNames,ignoreProperties),"undefined"!=typeof IDBIndex&&(patchFilteredProperties(IDBIndex.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBRequest.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBOpenDBRequest.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBDatabase.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBTransaction.prototype,IDBIndexEventNames,ignoreProperties),patchFilteredProperties(IDBCursor.prototype,IDBIndexEventNames,ignoreProperties)),supportsWebSocket&&patchFilteredProperties(WebSocket.prototype,websocketEventNames,ignoreProperties)}else!function(){for(var _loop_1=function(i){var property=eventNames[i],onproperty="on"+property;self.addEventListener(property,function(event){var bound,source,elt=event.target;for(source=elt?elt.constructor.name+"."+onproperty:"unknown."+onproperty;elt;)elt[onproperty]&&!elt[onproperty][unboundKey]&&((bound=wrapWithCurrentZone(elt[onproperty],source))[unboundKey]=elt[onproperty],elt[onproperty]=bound),elt=elt.parentElement},!0)},i=0;i<eventNames.length;i++)_loop_1(i)}(),patchClass("XMLHttpRequest"),supportsWebSocket&&function(api,_global){var WS=_global.WebSocket;_global.EventTarget||patchEventTarget(_global,[WS.prototype]),_global.WebSocket=function(x,y){var proxySocket,proxySocketProto,socket=1<arguments.length?new WS(x,y):new WS(x),onmessageDesc=ObjectGetOwnPropertyDescriptor(socket,"onmessage");return onmessageDesc&&!1===onmessageDesc.configurable?(proxySocket=ObjectCreate(socket),proxySocketProto=socket,[ADD_EVENT_LISTENER_STR,REMOVE_EVENT_LISTENER_STR,"send","close"].forEach(function(propName){proxySocket[propName]=function(){var args=ArraySlice.call(arguments);if(propName===ADD_EVENT_LISTENER_STR||propName===REMOVE_EVENT_LISTENER_STR){var eventName=0<args.length?args[0]:void 0;if(eventName){var propertySymbol=Zone.__symbol__("ON_PROPERTY"+eventName);socket[propertySymbol]=proxySocket[propertySymbol]}}return socket[propName].apply(socket,args)}})):proxySocket=socket,patchOnProperties(proxySocket,["close","error","message","open"],proxySocketProto),proxySocket};var globalWebSocket=_global.WebSocket;for(var prop in WS)globalWebSocket[prop]=WS[prop]}(0,_global)}}var unboundKey=zoneSymbol("unbound");function patchEvent(global,api){!function(global,api){var Event=global.Event;Event&&Event.prototype&&api.patchMethod(Event.prototype,"stopImmediatePropagation",function(delegate){return function(self,args){self[IMMEDIATE_PROPAGATION_SYMBOL]=!0,delegate&&delegate.apply(self,args)}})}(global,api)}function registerElementPatch(_global){if((isBrowser||isMix)&&"registerElement"in _global.document){var _registerElement=document.registerElement,callbacks=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(name,opts){return opts&&opts.prototype&&callbacks.forEach(function(callback){var obj,prop,desc,originalConfigurableFlag,source="Document.registerElement::"+callback,prototype=opts.prototype;if(prototype.hasOwnProperty(callback)){var descriptor=ObjectGetOwnPropertyDescriptor(prototype,callback);descriptor&&descriptor.value?(descriptor.value=wrapWithCurrentZone(descriptor.value,source),obj=opts.prototype,prop=callback,originalConfigurableFlag=(desc=descriptor).configurable,_tryDefineProperty(obj,prop,desc=rewriteDescriptor(obj,prop,desc),originalConfigurableFlag)):prototype[callback]=wrapWithCurrentZone(prototype[callback],source)}else prototype[callback]&&(prototype[callback]=wrapWithCurrentZone(prototype[callback],source))}),_registerElement.call(document,name,opts)},attachOriginToPatched(document.registerElement,_registerElement)}}Zone.__load_patch("util",function(global,Zone,api){api.patchOnProperties=patchOnProperties,api.patchMethod=patchMethod,api.bindArguments=bindArguments}),Zone.__load_patch("timers",function(global){patchTimer(global,"set","clear","Timeout"),patchTimer(global,"set","clear","Interval"),patchTimer(global,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",function(global){patchTimer(global,"request","cancel","AnimationFrame"),patchTimer(global,"mozRequest","mozCancel","AnimationFrame"),patchTimer(global,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",function(global,Zone){for(var blockingMethods=["alert","prompt","confirm"],i=0;i<blockingMethods.length;i++){patchMethod(global,blockingMethods[i],function(delegate,symbol,name){return function(s,args){return Zone.current.run(delegate,global,args,name)}})}}),Zone.__load_patch("EventTarget",function(global,Zone,api){var SYMBOL_BLACK_LISTED_EVENTS=Zone.__symbol__("BLACK_LISTED_EVENTS");global[SYMBOL_BLACK_LISTED_EVENTS]&&(Zone[SYMBOL_BLACK_LISTED_EVENTS]=global[SYMBOL_BLACK_LISTED_EVENTS]),patchEvent(global,api),function(_global,api){var WTF_ISSUE_555="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",NO_EVENT_TARGET="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),apis=[],isWtf=_global.wtf,WTF_ISSUE_555_ARRAY=WTF_ISSUE_555.split(",");isWtf?apis=WTF_ISSUE_555_ARRAY.map(function(v){return"HTML"+v+"Element"}).concat(NO_EVENT_TARGET):_global.EventTarget?apis.push("EventTarget"):apis=NO_EVENT_TARGET;for(var isDisableIECheck=_global.__Zone_disable_IE_check||!1,isEnableCrossContextCheck=_global.__Zone_enable_cross_context_check||!1,ieOrEdge=isIEOrEdge(),BROWSER_TOOLS="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",i=0;i<eventNames.length;i++){var eventName=eventNames[i],symbol=ZONE_SYMBOL_PREFIX+(eventName+FALSE_STR),symbolCapture=ZONE_SYMBOL_PREFIX+(eventName+TRUE_STR);zoneSymbolEventNames$1[eventName]={},zoneSymbolEventNames$1[eventName][FALSE_STR]=symbol,zoneSymbolEventNames$1[eventName][TRUE_STR]=symbolCapture}for(i=0;i<WTF_ISSUE_555.length;i++)for(var target=WTF_ISSUE_555_ARRAY[i],targets=globalSources[target]={},j=0;j<eventNames.length;j++)targets[eventName=eventNames[j]]=target+".addEventListener:"+eventName;var apiTypes=[];for(i=0;i<apis.length;i++){var type=_global[apis[i]];apiTypes.push(type&&type.prototype)}patchEventTarget(_global,apiTypes,{vh:function(nativeDelegate,delegate,target,args){if(!isDisableIECheck&&ieOrEdge){if(isEnableCrossContextCheck)try{var testString;if("[object FunctionWrapper]"===(testString=delegate.toString())||testString==BROWSER_TOOLS)return nativeDelegate.apply(target,args),!1}catch(error){return nativeDelegate.apply(target,args),!1}else if("[object FunctionWrapper]"===(testString=delegate.toString())||testString==BROWSER_TOOLS)return nativeDelegate.apply(target,args),!1}else if(isEnableCrossContextCheck)try{delegate.toString()}catch(error){return nativeDelegate.apply(target,args),!1}return!0}}),api.patchEventTarget=patchEventTarget}(global,api);var XMLHttpRequestEventTarget=global.XMLHttpRequestEventTarget;XMLHttpRequestEventTarget&&XMLHttpRequestEventTarget.prototype&&api.patchEventTarget(global,[XMLHttpRequestEventTarget.prototype]),patchClass("MutationObserver"),patchClass("WebKitMutationObserver"),patchClass("IntersectionObserver"),patchClass("FileReader")}),Zone.__load_patch("on_property",function(global,Zone,api){propertyDescriptorPatch(0,global),Object.defineProperty=function(obj,prop,desc){if(isUnconfigurable(obj,prop))throw new TypeError("Cannot assign to read only property '"+prop+"' of "+obj);var originalConfigurableFlag=desc.configurable;return"prototype"!==prop&&(desc=rewriteDescriptor(obj,prop,desc)),_tryDefineProperty(obj,prop,desc,originalConfigurableFlag)},Object.defineProperties=function(obj,props){return Object.keys(props).forEach(function(prop){Object.defineProperty(obj,prop,props[prop])}),obj},Object.create=function(obj,proto){return"object"!=typeof proto||Object.isFrozen(proto)||Object.keys(proto).forEach(function(prop){proto[prop]=rewriteDescriptor(obj,prop,proto[prop])}),_create(obj,proto)},Object.getOwnPropertyDescriptor=function(obj,prop){var desc=_getOwnPropertyDescriptor(obj,prop);return isUnconfigurable(obj,prop)&&(desc.configurable=!1),desc},registerElementPatch(global)}),Zone.__load_patch("canvas",function(global){var HTMLCanvasElement=global.HTMLCanvasElement;void 0!==HTMLCanvasElement&&HTMLCanvasElement.prototype&&HTMLCanvasElement.prototype.toBlob&&function(obj,funcName,metaCreator){var setNative=null;function scheduleTask(task){var data=task.data;return data.args[data.cbIdx]=function(){task.invoke.apply(this,arguments)},setNative.apply(data.target,data.args),task}setNative=patchMethod(obj,funcName,function(delegate){return function(self,args){var meta=metaCreator(self,args);return 0<=meta.cbIdx&&"function"==typeof args[meta.cbIdx]?scheduleMacroTaskWithCurrentZone(meta.name,args[meta.cbIdx],meta,scheduleTask,null):delegate.apply(self,args)}})}(HTMLCanvasElement.prototype,"toBlob",function(self,args){return{name:"HTMLCanvasElement.toBlob",target:self,cbIdx:0,args:args}})}),Zone.__load_patch("XHR",function(global,Zone){!function(window){var XMLHttpRequestPrototype=XMLHttpRequest.prototype;var oriAddListener=XMLHttpRequestPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=XMLHttpRequestPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];if(!oriAddListener){var XMLHttpRequestEventTarget=window.XMLHttpRequestEventTarget;if(XMLHttpRequestEventTarget){var XMLHttpRequestEventTargetPrototype=XMLHttpRequestEventTarget.prototype;oriAddListener=XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER]}}function scheduleTask(task){XMLHttpRequest[XHR_SCHEDULED]=!1;var data=task.data,target=data.target,listener=target[XHR_LISTENER];oriAddListener||(oriAddListener=target[ZONE_SYMBOL_ADD_EVENT_LISTENER],oriRemoveListener=target[ZONE_SYMBOL_REMOVE_EVENT_LISTENER]),listener&&oriRemoveListener.call(target,"readystatechange",listener);var newListener=target[XHR_LISTENER]=function(){target.readyState===target.DONE&&!data.aborted&&XMLHttpRequest[XHR_SCHEDULED]&&"scheduled"===task.state&&task.invoke()};oriAddListener.call(target,"readystatechange",newListener);var storedTask=target[XHR_TASK];return storedTask||(target[XHR_TASK]=task),sendNative.apply(target,data.args),XMLHttpRequest[XHR_SCHEDULED]=!0,task}function placeholderCallback(){}function clearTask(task){var data=task.data;return data.aborted=!0,abortNative.apply(data.target,data.args)}var openNative=patchMethod(XMLHttpRequestPrototype,"open",function(){return function(self,args){return self[XHR_SYNC]=0==args[2],self[XHR_URL]=args[1],openNative.apply(self,args)}}),sendNative=patchMethod(XMLHttpRequestPrototype,"send",function(){return function(self,args){if(self[XHR_SYNC])return sendNative.apply(self,args);var options={target:self,url:self[XHR_URL],isPeriodic:!1,delay:null,args:args,aborted:!1};return scheduleMacroTaskWithCurrentZone("XMLHttpRequest.send",placeholderCallback,options,scheduleTask,clearTask)}}),abortNative=patchMethod(XMLHttpRequestPrototype,"abort",function(){return function(self){var task=self[XHR_TASK];if(task&&"string"==typeof task.type){if(null==task.cancelFn||task.data&&task.data.aborted)return;task.zone.cancelTask(task)}}})}(global);var XHR_TASK=zoneSymbol("xhrTask"),XHR_SYNC=zoneSymbol("xhrSync"),XHR_LISTENER=zoneSymbol("xhrListener"),XHR_SCHEDULED=zoneSymbol("xhrScheduled"),XHR_URL=zoneSymbol("xhrURL")}),Zone.__load_patch("geolocation",function(global){global.navigator&&global.navigator.geolocation&&function(prototype,fnNames){for(var source=prototype.constructor.name,_loop_1=function(i){var name_1=fnNames[i],delegate=prototype[name_1];if(delegate){if(!isPropertyWritable(ObjectGetOwnPropertyDescriptor(prototype,name_1)))return"continue";prototype[name_1]=function(delegate){var patched=function(){return delegate.apply(this,bindArguments(arguments,source+"."+name_1))};return attachOriginToPatched(patched,delegate),patched}(delegate)}},i=0;i<fnNames.length;i++)_loop_1(i)}(global.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",function(global,Zone){function findPromiseRejectionHandler(evtName){return function(e){findEventTasks(global,evtName).forEach(function(eventTask){var PromiseRejectionEvent=global.PromiseRejectionEvent;if(PromiseRejectionEvent){var evt=new PromiseRejectionEvent(evtName,{promise:e.promise,reason:e.rejection});eventTask.invoke(evt)}})}}global.PromiseRejectionEvent&&(Zone[zoneSymbol("unhandledPromiseRejectionHandler")]=findPromiseRejectionHandler("unhandledrejection"),Zone[zoneSymbol("rejectionHandledHandler")]=findPromiseRejectionHandler("rejectionhandled"))})},"object"==typeof exports&&void 0!==module?factory():"function"==typeof define&&define.amd?define(factory):factory()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./localization"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./localization"))})},{"./localization":36}],36:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var InterpolationHandler=function(){};exports.InterpolationHandler=InterpolationHandler;var LocalizationOptions=function(){this.allowMissing=!1};exports.LocalizationOptions=LocalizationOptions;var ILocalization=function(){function ILocalization(options){}return Object.defineProperty(ILocalization,"Class",{get:function(){return this._Class},set:function(Class){if(!this._Class){if(Class.__proto__!==ILocalization)throw"The class "+Class.name+" does not extend from Localization";this._Class=Class}},enumerable:!0,configurable:!0}),ILocalization._Class=null,ILocalization}();exports.ILocalization=ILocalization})},{}],37:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./internal/index","./phoenix/index"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var internal=require("./internal/index");exports.internal=internal;var phoenix=require("./phoenix/index");exports.phoenix=phoenix})},{"./internal/index":38,"./phoenix/index":46}],38:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./token_helper"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./token_helper"))})},{"./token_helper":39}],39:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),TokenHelper=function(_super){function TokenHelper(){var _newTarget=this.constructor,_this=_super.call(this,TokenHelper_1)||this;if(_newTarget!==TokenHelper_1)throw"The class TokenHelper can not be extended";return _this}var TokenHelper_1;return __extends(TokenHelper,_super),(TokenHelper_1=TokenHelper).get=function(){return proxy_1.ProxyObject.invokeStatic(TokenHelper_1,"get")},Object.defineProperty(TokenHelper.prototype,"ontokenchange",{get:function(){return this._ontokenchange},set:function(callback){this._ontokenchange=callback,this.requestEvent("ontokenchange",callback)},enumerable:!0,configurable:!0}),TokenHelper.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!TokenHelper_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},TokenHelper.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!TokenHelper_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},TokenHelper._eventNames=["tokenchange"],TokenHelper=TokenHelper_1=__decorate([common_1.$proxyObject("internal.TokenHelper",constants_1.kWFCHostAdapterHarborServiceName)],TokenHelper)}(proxy_1.ProxyObject);exports.TokenHelper=TokenHelper})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],40:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),Agent=function(_super){function Agent(){var _newTarget=this.constructor,_this=_super.call(this,Agent_1)||this;if(_newTarget!==Agent_1)throw"The class Agent can not be extended";return _this}var Agent_1;return __extends(Agent,_super),(Agent_1=Agent).prototype.name=function(){return this.invoke("name")},Agent.prototype.availableMethods=function(){return this.invoke("availableMethods")},Agent.prototype.availableEvents=function(){return this.invoke("availableEvents")},Agent.prototype.invokeMethod=function(methodName){for(var parameters=[],_i=1;_i<arguments.length;_i++)parameters[_i-1]=arguments[_i];return this.invoke.apply(this,__spread(["invokeMethod",methodName],parameters))},Agent.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(errorEventListener&&!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";this.requestEvent(eventName,eventListener,options)},Agent.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(errorEventListener&&!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";this.removeEvent(eventName,eventListener,options)},Agent=Agent_1=__decorate([common_1.$proxyObject("phoenix.agents.Agent",constants_1.kWFCHostAdapterHarborServiceName)],Agent)}(proxy_1.ProxyObject);exports.Agent=Agent;var context,AgentsManager=function(_super){function AgentsManager(){var _newTarget=this.constructor,_this=_super.call(this,AgentsManager_1)||this;if(_newTarget!==AgentsManager_1)throw"The class AgentsManager can not be extended";return _this}var AgentsManager_1;return __extends(AgentsManager,_super),(AgentsManager_1=AgentsManager).get=function(){return proxy_1.ProxyObject.invokeStatic(AgentsManager_1,"get")},AgentsManager.prototype.availableAgents=function(){return this.invoke("availableAgents")},AgentsManager.prototype.require=function(packageId){return this.invoke("require",packageId)},AgentsManager=AgentsManager_1=__decorate([common_1.$proxyObject("phoenix.agents.AgentsManager",constants_1.kWFCHostAdapterHarborServiceName)],AgentsManager)}(proxy_1.ProxyObject);exports.AgentsManager=AgentsManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.agents.agentsManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){AgentsManager.get().then(function(value){phoenix.agents.agentsManager=value,resolve()}).catch(function(){phoenix.agents.agentsManager=null,resolve()})})}),context["phoenix.agents.agentsManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],41:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./agents"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./agents"))})},{"./agents":40}],42:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(BeepType){BeepType.Keyboard="keyboard",BeepType.KeyboardLongPress="keyboard-long-press",BeepType.LongPress="long-press",BeepType.Numpad="numpad",BeepType.NumpadLongPress="numpad-long-press",BeepType.ShortPress="short-press",BeepType.UserAlert="user-alert",BeepType.Vibrate="vibrate"}(exports.BeepType||(exports.BeepType={}));var BeepOptions=function(){};exports.BeepOptions=BeepOptions;var AudioFocusRequest=function(){};exports.AudioFocusRequest=AudioFocusRequest;var AudioFocusResponse=function(){};exports.AudioFocusResponse=AudioFocusResponse,function(AudioFocusState){AudioFocusState.FocusGain="focus-gain",AudioFocusState.FocusGainDucked="focus-gain-ducked",AudioFocusState.FocusGainExclusive="focus-gain-exclusive",AudioFocusState.FocusLoss="focus-loss"}(exports.AudioFocusState||(exports.AudioFocusState={}));var context,AudioManager=function(_super){function AudioManager(){var _newTarget=this.constructor,_this=_super.call(this,AudioManager_1)||this;if(_newTarget!==AudioManager_1)throw"The class AudioManager can not be extended";return _this}var AudioManager_1;return __extends(AudioManager,_super),(AudioManager_1=AudioManager).get=function(){return proxy_1.ProxyObject.invokeStatic(AudioManager_1,"get")},AudioManager.prototype.playBeep=function(beepOptions){return this.invoke("playBeep",beepOptions)},AudioManager.prototype.requestAudioFocus=function(request){return this.invoke("requestAudioFocus",request)},AudioManager.prototype.releaseAudioFocus=function(request){return this.invoke("releaseAudioFocus",request)},Object.defineProperty(AudioManager.prototype,"onaudiofocusstatechange",{get:function(){return this._onaudiofocusstatechange},set:function(callback){this._onaudiofocusstatechange=callback,this.requestEvent("onaudiofocusstatechange",callback)},enumerable:!0,configurable:!0}),AudioManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!AudioManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},AudioManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!AudioManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},AudioManager._eventNames=["audiofocusstatechange"],AudioManager=AudioManager_1=__decorate([common_1.$proxyObject("phoenix.audio.AudioManager",constants_1.kWFCHostAdapterHarborServiceName)],AudioManager)}(proxy_1.ProxyObject);exports.AudioManager=AudioManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.audio.audioManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){AudioManager.get().then(function(value){phoenix.audio.audioManager=value,resolve()}).catch(function(){phoenix.audio.audioManager=null,resolve()})})}),context["phoenix.audio.audioManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],43:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./audio"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./audio"))})},{"./audio":42}],44:[function(require,module,exports){arguments[4][35][0].apply(exports,arguments)},{"./localization":45,dup:35}],45:[function(require,module,exports){var __read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","../../../local/phoenix/i18n"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i18n_1=require("../../../local/phoenix/i18n"),InterpolationHandler=function(){};exports.InterpolationHandler=InterpolationHandler;var LocalizationOptions=function(){this.allowMissing=!1};exports.LocalizationOptions=LocalizationOptions;var Localization=function(){function Localization(options){if(this.constructor!==Localization)throw"The class Localization can not be extended";this._impl=new i18n_1.ILocalization.Class(options)}return Localization.toImpl=function(obj){return null===obj?null:void 0!==obj?(Localization._instanceMap.has(obj._impl)||Localization._instanceMap.set(obj._impl,obj),obj._impl):void 0},Localization.fromImpl=function(objOrArray){function fromImplObj(obj){var _a;if(null===obj)return null;if(void 0!==obj){if(!Localization._instanceMap.has(obj)){for(var args=[],i=0;i<Localization.constructorArgs;++i)args.push(null);args.push(obj),Localization._instanceMap.set(obj,new((_a=Localization).bind.apply(_a,__spread([void 0],args))))}return Localization._instanceMap.get(obj)}}return objOrArray instanceof Array?objOrArray.map(function(obj){return fromImplObj(obj)}):fromImplObj(objOrArray)},Localization.prototype.extend=function(phrases){this._impl.extend(phrases)},Localization.prototype.t=function(phrase,translateOptions){return this._impl.t(phrase,translateOptions)},Localization.prototype.clear=function(){this._impl.clear()},Localization.prototype.replace=function(phrases){this._impl.replace(phrases)},Object.defineProperty(Localization.prototype,"locale",{get:function(){return this._impl.locale},set:function(locale){this._impl.locale=locale},enumerable:!0,configurable:!0}),Localization.prototype.has=function(phrase){return this._impl.has(phrase)},Localization.constructorArgs=1,Localization._instanceMap=new Map,Localization}();exports.Localization=Localization})},{"../../../local/phoenix/i18n":35}],46:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./phoenix","./agents/index","./audio/index","./i18n/index","./intents/index","./maps/index","./media/index","./messaging/index","./net/index","./oem/index","./speech/index","./sys/index","./telephony/index","./users/index","./util/index","./wfc/index"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./phoenix"));var agents=require("./agents/index");exports.agents=agents;var audio=require("./audio/index");exports.audio=audio;var i18n=require("./i18n/index");exports.i18n=i18n;var intents=require("./intents/index");exports.intents=intents;var maps=require("./maps/index");exports.maps=maps;var media=require("./media/index");exports.media=media;var messaging=require("./messaging/index");exports.messaging=messaging;var net=require("./net/index");exports.net=net;var oem=require("./oem/index");exports.oem=oem;var speech=require("./speech/index");exports.speech=speech;var sys=require("./sys/index");exports.sys=sys;var telephony=require("./telephony/index");exports.telephony=telephony;var users=require("./users/index");exports.users=users;var util=require("./util/index");exports.util=util;var wfc=require("./wfc/index");exports.wfc=wfc})},{"./agents/index":41,"./audio/index":43,"./i18n/index":44,"./intents/index":47,"./maps/index":49,"./media/index":51,"./messaging/index":53,"./net/index":55,"./oem/index":57,"./phoenix":63,"./speech/index":64,"./sys/index":68,"./telephony/index":79,"./users/index":81,"./util/index":83,"./wfc/index":86}],47:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./intent_manager"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./intent_manager"))})},{"./intent_manager":48}],48:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),IntentOptions=function(){};exports.IntentOptions=IntentOptions;var Intent=function(_super){function Intent(options){var _newTarget=this.constructor,_this=_super.call(this,Intent_1,options)||this;if(_newTarget!==Intent_1)throw"The class Intent can not be extended";return _this}var Intent_1;return __extends(Intent,_super),(Intent_1=Intent).prototype.resolve=function(data){this.invoke("resolve",data)},Intent.prototype.reject=function(){this.invoke("reject")},Intent.prototype.action=function(){return this.invoke("action")},Intent.prototype.filters=function(){return this.invoke("filters")},Intent.prototype.data=function(){return this.invoke("data")},Intent=Intent_1=__decorate([common_1.$proxyObject("phoenix.intents.Intent",constants_1.kWFCHostAdapterHarborServiceName)],Intent)}(proxy_1.ProxyObject);exports.Intent=Intent;var IntentContext=function(){};exports.IntentContext=IntentContext;var PublisherContext=function(){};exports.PublisherContext=PublisherContext;var context,IntentManager=function(_super){function IntentManager(){var _newTarget=this.constructor,_this=_super.call(this,IntentManager_1)||this;if(_newTarget!==IntentManager_1)throw"The class IntentManager can not be extended";return _this}var IntentManager_1;return __extends(IntentManager,_super),(IntentManager_1=IntentManager).get=function(){return proxy_1.ProxyObject.invokeStatic(IntentManager_1,"get")},IntentManager.prototype.publish=function(intent,context){return this.invoke("publish",intent,context)},IntentManager.prototype.subscribe=function(intent){return this.invoke("subscribe",intent)},IntentManager.prototype.unsubscribe=function(intent){return this.invoke("unsubscribe",intent)},IntentManager.prototype.supportedActions=function(){return this.invoke("supportedActions")},IntentManager.prototype.subscribers=function(action){return this.invoke("subscribers",action)},Object.defineProperty(IntentManager.prototype,"onintent",{get:function(){return this._onintent},set:function(callback){this._onintent=callback,this.requestEvent("onintent",callback)},enumerable:!0,configurable:!0}),IntentManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!IntentManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},IntentManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!IntentManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},IntentManager._eventNames=["intent"],IntentManager=IntentManager_1=__decorate([common_1.$proxyObject("phoenix.intents.IntentManager",constants_1.kWFCHostAdapterHarborServiceName)],IntentManager)}(proxy_1.ProxyObject);exports.IntentManager=IntentManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.intents.intentManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){IntentManager.get().then(function(value){phoenix.intents.intentManager=value,resolve()}).catch(function(){phoenix.intents.intentManager=null,resolve()})})}),context["phoenix.intents.intentManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],49:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./maps"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./maps"))})},{"./maps":50}],50:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),Coordinates=function(){};exports.Coordinates=Coordinates;var LocationType,Address=function(){};exports.Address=Address,function(LocationType){LocationType[LocationType.Home=1]="Home",LocationType[LocationType.Work=2]="Work",LocationType[LocationType.Favourite=4]="Favourite",LocationType[LocationType.All=7]="All"}(LocationType=exports.LocationType||(exports.LocationType={}));var Icon=function(){};exports.Icon=Icon;var Location=function(_super){function Location(coordinates,address){var _newTarget=this.constructor,_this=_super.call(this,Location_1,coordinates,address)||this;if(_newTarget!==Location_1)throw"The class Location can not be extended";return _this}var Location_1;return __extends(Location,_super),(Location_1=Location).prototype.coordinates=function(){return this.invoke("coordinates")},Location.prototype.label=function(){return this.invoke("label")},Location.prototype.address=function(){return this.invoke("address")},Location.prototype.poi=function(category){return this.invoke("poi",category)},Location=Location_1=__decorate([common_1.$proxyObject("phoenix.maps.Location",constants_1.kWFCHostAdapterHarborServiceName)],Location)}(proxy_1.ProxyObject);exports.Location=Location,function(ServiceType){ServiceType[ServiceType.Geocoding=0]="Geocoding",ServiceType[ServiceType.Poi=1]="Poi"}(exports.ServiceType||(exports.ServiceType={}));var GeocodingService=function(_super){function GeocodingService(){var _newTarget=this.constructor,_this=_super.call(this,GeocodingService_1)||this;if(_newTarget!==GeocodingService_1)throw"The class GeocodingService can not be extended";return _this}var GeocodingService_1;return __extends(GeocodingService,_super),(GeocodingService_1=GeocodingService).prototype.getLocationFromAddress=function(address){return this.invoke("getLocationFromAddress",address)},GeocodingService=GeocodingService_1=__decorate([common_1.$proxyObject("phoenix.maps.GeocodingService",constants_1.kWFCHostAdapterHarborServiceName)],GeocodingService)}(proxy_1.ProxyObject);exports.GeocodingService=GeocodingService;var POIService=function(_super){function POIService(){var _newTarget=this.constructor,_this=_super.call(this,POIService_1)||this;if(_newTarget!==POIService_1)throw"The class POIService can not be extended";return _this}var POIService_1;return __extends(POIService,_super),(POIService_1=POIService).prototype.supportedPOICategories=function(){return this.invoke("supportedPOICategories")},POIService=POIService_1=__decorate([common_1.$proxyObject("phoenix.maps.POIService",constants_1.kWFCHostAdapterHarborServiceName)],POIService)}(proxy_1.ProxyObject);exports.POIService=POIService;var MapType,MeasurementSystem,MapProvider=function(){};exports.MapProvider=MapProvider,function(MapType){MapType[MapType.Hybrid=0]="Hybrid",MapType[MapType.Roadmap=1]="Roadmap",MapType[MapType.Satellite=2]="Satellite",MapType[MapType.Terrain=3]="Terrain"}(MapType=exports.MapType||(exports.MapType={})),function(MeasurementSystem){MeasurementSystem[MeasurementSystem.Imperial=0]="Imperial",MeasurementSystem[MeasurementSystem.Metric=1]="Metric"}(MeasurementSystem=exports.MeasurementSystem||(exports.MeasurementSystem={}));var MapOptions=function(){this.type=MapType.Roadmap,this.measurementSystem=MeasurementSystem.Metric};exports.MapOptions=MapOptions;var RouteOptions=function(){this.alternativeRoutes=!1};exports.RouteOptions=RouteOptions,function(NavigationStatus){NavigationStatus.CommuteAvailable="commute-available",NavigationStatus.CommuteActive="commute-active",NavigationStatus.CommuteNotAvailable="commute-not-available",NavigationStatus.CommuteNotSupported="commute-not-supported",NavigationStatus.GuidanceActive="guidance-active",NavigationStatus.GuidanceNotAvailable="guidance-not-available"}(exports.NavigationStatus||(exports.NavigationStatus={})),function(NavigationType){NavigationType.Commute="commute",NavigationType.Guidance="guidance"}(exports.NavigationType||(exports.NavigationType={}));var Map=function(_super){function Map(options){var _newTarget=this.constructor,_this=_super.call(this,Map_1,options)||this;if(_newTarget!==Map_1)throw"The class Map can not be extended";return _this}var Map_1;return __extends(Map,_super),(Map_1=Map).mapProvider=function(){return proxy_1.ProxyObject.invokeStatic(Map_1,"mapProvider")},Map.currentLocation=function(){return proxy_1.ProxyObject.invokeStatic(Map_1,"currentLocation")},Map.recentDestinations=function(){return proxy_1.ProxyObject.invokeStatic(Map_1,"recentDestinations")},Map.saveLocation=function(location,type){return void 0===type&&(type=LocationType.Favourite),proxy_1.ProxyObject.invokeStatic(Map_1,"saveLocation",location,type)},Map.savedLocations=function(type){return void 0===type&&(type=LocationType.All),proxy_1.ProxyObject.invokeStatic(Map_1,"savedLocations",type)},Map.supportedServiceTypes=function(){return proxy_1.ProxyObject.invokeStatic(Map_1,"supportedServiceTypes")},Map.prototype.type=function(){return this.invoke("type")},Map.prototype.setType=function(type){return this.invoke("setType",type)},Map.prototype.measurementSystem=function(){return this.invoke("measurementSystem")},Map.prototype.setMeasurementSystem=function(system){return this.invoke("setMeasurementSystem",system)},Map.prototype.showLocationsOnMap=function(locations){return this.invoke("showLocationsOnMap",locations)},Map.prototype.activeRoute=function(){return this.invoke("activeRoute")},Map.prototype.geocodingService=function(){return this.invoke("geocodingService")},Map.prototype.setDestinations=function(locations,options){return this.invoke("setDestinations",locations,options)},Map.prototype.poiService=function(){return this.invoke("poiService")},Map.prototype.supportedSearchOptions=function(){return this.invoke("supportedSearchOptions")},Map.prototype.supportedSearchCategories=function(){return this.invoke("supportedSearchCategories")},Map.prototype.addIcons=function(icons){return this.invoke("addIcons",icons)},Map.prototype.removeIcons=function(icons){return this.invoke("removeIcons",icons)},Map.prototype.navigationStatus=function(statusType){return this.invoke("navigationStatus",statusType)},Object.defineProperty(Map.prototype,"oniconclicked",{get:function(){return this._oniconclicked},set:function(callback){this._oniconclicked=callback,this.requestEvent("oniconclicked",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(Map.prototype,"onnavigationstatus",{get:function(){return this._onnavigationstatus},set:function(callback){this._onnavigationstatus=callback,this.requestEvent("onnavigationstatus",callback)},enumerable:!0,configurable:!0}),Map.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!Map_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},Map.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!Map_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},Map._eventNames=["iconclicked","navigationstatus"],Map=Map_1=__decorate([common_1.$proxyObject("phoenix.maps.Map",constants_1.kWFCHostAdapterHarborServiceName)],Map)}(proxy_1.ProxyObject);exports.Map=Map;var ETAInfo=function(){};exports.ETAInfo=ETAInfo;var WaypointInfo=function(){};exports.WaypointInfo=WaypointInfo;var Route=function(_super){function Route(){var _newTarget=this.constructor,_this=_super.call(this,Route_1)||this;if(_newTarget!==Route_1)throw"The class Route can not be extended";return _this}var Route_1;return __extends(Route,_super),(Route_1=Route).prototype.destination=function(){return this.invoke("destination")},Route.prototype.waypoints=function(){return this.invoke("waypoints")},Route.prototype.addWaypoint=function(locationToAdd,referenceWaypoint){return this.invoke("addWaypoint",locationToAdd,referenceWaypoint)},Route.prototype.removeWaypoint=function(waypointId){return this.invoke("removeWaypoint",waypointId)},Route.prototype.etaToDestination=function(){return this.invoke("etaToDestination")},Route.prototype.eta=function(location){return this.invoke("eta",location)},Route.prototype.startNavigation=function(){return this.invoke("startNavigation")},Route.prototype.stopNavigation=function(){return this.invoke("stopNavigation")},Route.prototype.isNavigationActive=function(){return this.invoke("isNavigationActive")},Route.prototype.getPOIAlongRoute=function(category){return this.invoke("getPOIAlongRoute",category)},Object.defineProperty(Route.prototype,"onetachanged",{get:function(){return this._onetachanged},set:function(callback){this._onetachanged=callback,this.requestEvent("onetachanged",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(Route.prototype,"onroutechanged",{get:function(){return this._onroutechanged},set:function(callback){this._onroutechanged=callback,this.requestEvent("onroutechanged",callback)},enumerable:!0,configurable:!0}),Route.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!Route_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},Route.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!Route_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},Route._eventNames=["etachanged","routechanged"],Route=Route_1=__decorate([common_1.$proxyObject("phoenix.maps.Route",constants_1.kWFCHostAdapterHarborServiceName)],Route)}(proxy_1.ProxyObject);exports.Route=Route})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],51:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./media"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./media"))})},{"./media":52}],52:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(MediaSourceType){MediaSourceType.IPodOrIAP="ipod/iap",MediaSourceType.Bluetooth="bt",MediaSourceType.USB="usb",MediaSourceType.MTP="mtp",MediaSourceType.Am="am",MediaSourceType.Fm="fm",MediaSourceType.Xm="xm",MediaSourceType.DAB="dab",MediaSourceType.Internet="internet"}(exports.MediaSourceType||(exports.MediaSourceType={}));var MediaSource=function(){};exports.MediaSource=MediaSource;var MediaSession=function(_super){function MediaSession(){var _newTarget=this.constructor,_this=_super.call(this,MediaSession_1)||this;if(_newTarget!==MediaSession_1)throw"The class MediaSession can not be extended";return _this}var MediaSession_1;return __extends(MediaSession,_super),(MediaSession_1=MediaSession).prototype.activeSource=function(){return this.invoke("activeSource")},MediaSession.prototype.requestSourceChange=function(newSource){return this.invoke("requestSourceChange",newSource)},MediaSession=MediaSession_1=__decorate([common_1.$proxyObject("phoenix.media.MediaSession",constants_1.kWFCHostAdapterHarborServiceName)],MediaSession)}(proxy_1.ProxyObject);exports.MediaSession=MediaSession;var context,MediaManager=function(_super){function MediaManager(){var _newTarget=this.constructor,_this=_super.call(this,MediaManager_1)||this;if(_newTarget!==MediaManager_1)throw"The class MediaManager can not be extended";return _this}var MediaManager_1;return __extends(MediaManager,_super),(MediaManager_1=MediaManager).get=function(){return proxy_1.ProxyObject.invokeStatic(MediaManager_1,"get")},MediaManager.prototype.activeSession=function(){return this.invoke("activeSession")},MediaManager=MediaManager_1=__decorate([common_1.$proxyObject("phoenix.media.MediaManager",constants_1.kWFCHostAdapterHarborServiceName)],MediaManager)}(proxy_1.ProxyObject);exports.MediaManager=MediaManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.media.mediaManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){MediaManager.get().then(function(value){phoenix.media.mediaManager=value,resolve()}).catch(function(){phoenix.media.mediaManager=null,resolve()})})}),context["phoenix.media.mediaManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],53:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./messaging"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./messaging"))})},{"./messaging":54}],54:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(MessageType){MessageType.Sms="sms",MessageType.Mms="mms"}(exports.MessageType||(exports.MessageType={}));var Message=function(){};exports.Message=Message;var context,MessagingManager=function(_super){function MessagingManager(){var _newTarget=this.constructor,_this=_super.call(this,MessagingManager_1)||this;if(_newTarget!==MessagingManager_1)throw"The class MessagingManager can not be extended";return _this}var MessagingManager_1;return __extends(MessagingManager,_super),(MessagingManager_1=MessagingManager).get=function(){return proxy_1.ProxyObject.invokeStatic(MessagingManager_1,"get")},MessagingManager.prototype.send=function(message,number){return this.invoke("send",message,number)},Object.defineProperty(MessagingManager.prototype,"onsent",{get:function(){return this._onsent},set:function(callback){this._onsent=callback,this.requestEvent("onsent",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(MessagingManager.prototype,"onfailure",{get:function(){return this._onfailure},set:function(callback){this._onfailure=callback,this.requestEvent("onfailure",callback)},enumerable:!0,configurable:!0}),MessagingManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!MessagingManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},MessagingManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!MessagingManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},MessagingManager._eventNames=["sent","failure"],MessagingManager=MessagingManager_1=__decorate([common_1.$proxyObject("phoenix.messaging.MessagingManager",constants_1.kWFCHostAdapterHarborServiceName)],MessagingManager)}(proxy_1.ProxyObject);exports.MessagingManager=MessagingManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.messaging.messagingManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){MessagingManager.get().then(function(value){phoenix.messaging.messagingManager=value,resolve()}).catch(function(){phoenix.messaging.messagingManager=null,resolve()})})}),context["phoenix.messaging.messagingManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],55:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./net"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./net"))})},{"./net":56}],56:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(NetworkType){NetworkType.Offline="offline",NetworkType.Cellular="cellular",NetworkType.WiFi="wifi"}(exports.NetworkType||(exports.NetworkType={}));var NetworkSource=function(){};exports.NetworkSource=NetworkSource;var context,NetworkManager=function(_super){function NetworkManager(){var _newTarget=this.constructor,_this=_super.call(this,NetworkManager_1)||this;if(_newTarget!==NetworkManager_1)throw"The class NetworkManager can not be extended";return _this}var NetworkManager_1;return __extends(NetworkManager,_super),(NetworkManager_1=NetworkManager).get=function(){return proxy_1.ProxyObject.invokeStatic(NetworkManager_1,"get")},NetworkManager.prototype.isConnected=function(){return this.invoke("isConnected")},NetworkManager.prototype.activeNetworkSource=function(){return this.invoke("activeNetworkSource")},Object.defineProperty(NetworkManager.prototype,"onconnectionchange",{get:function(){return this._onconnectionchange},set:function(callback){this._onconnectionchange=callback,this.requestEvent("onconnectionchange",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(NetworkManager.prototype,"onnetworktypechange",{get:function(){return this._onnetworktypechange},set:function(callback){this._onnetworktypechange=callback,this.requestEvent("onnetworktypechange",callback)},enumerable:!0,configurable:!0}),NetworkManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!NetworkManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},NetworkManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!NetworkManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},NetworkManager._eventNames=["connectionchange","networktypechange"],NetworkManager=NetworkManager_1=__decorate([common_1.$proxyObject("phoenix.net.NetworkManager",constants_1.kWFCHostAdapterHarborServiceName)],NetworkManager)}(proxy_1.ProxyObject);exports.NetworkManager=NetworkManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.net.networkManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){NetworkManager.get().then(function(value){phoenix.net.networkManager=value,resolve()}).catch(function(){phoenix.net.networkManager=null,resolve()})})}),context["phoenix.net.networkManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],57:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./jlr/index"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var jlr=require("./jlr/index");exports.jlr=jlr})},{"./jlr/index":60}],58:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var context,common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),HMIManager=function(_super){function HMIManager(){var _newTarget=this.constructor,_this=_super.call(this,HMIManager_1)||this;if(_newTarget!==HMIManager_1)throw"The class HMIManager can not be extended";return _this}var HMIManager_1;return __extends(HMIManager,_super),(HMIManager_1=HMIManager).get=function(){return proxy_1.ProxyObject.invokeStatic(HMIManager_1,"get")},HMIManager.prototype.showBackButton=function(){return this.invoke("showBackButton")},HMIManager.prototype.hideBackButton=function(){return this.invoke("hideBackButton")},HMIManager=HMIManager_1=__decorate([common_1.$proxyObject("phoenix.oem.jlr.hmi.HMIManager",constants_1.kWFCHostAdapterHarborServiceName)],HMIManager)}(proxy_1.ProxyObject);exports.HMIManager=HMIManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.oem.jlr.hmi.hmiManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){HMIManager.get().then(function(value){phoenix.oem.jlr.hmi.hmiManager=value,resolve()}).catch(function(){phoenix.oem.jlr.hmi.hmiManager=null,resolve()})})}),context["phoenix.oem.jlr.hmi.hmiManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],59:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./hmi"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./hmi"))})},{"./hmi":58}],60:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./hmi/index","./types/index"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var hmi=require("./hmi/index");exports.hmi=hmi;var types=require("./types/index");exports.types=types})},{"./hmi/index":59,"./types/index":61}],61:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./types"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./types"))})},{"./types":62}],62:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(PlatformSettingsName){PlatformSettingsName.CCF="ccf",PlatformSettingsName.NotificationSetting="notification-setting",PlatformSettingsName.ServiceLogUsage="logging-services",PlatformSettingsName.SoftwareVersion="software-version",PlatformSettingsName.UiTheme="ui-theme",PlatformSettingsName.ValetMode="valet-mode",PlatformSettingsName.VoiceGender="voice-gender"}(exports.PlatformSettingsName||(exports.PlatformSettingsName={})),function(PlatformSettingsFilter){PlatformSettingsFilter.Dcm="dcm",PlatformSettingsFilter.Profile="profile",PlatformSettingsFilter.Quick="quick"}(exports.PlatformSettingsFilter||(exports.PlatformSettingsFilter={}))})},{}],63:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(PhoenixErrorType){PhoenixErrorType[PhoenixErrorType.HostAdapterConnectionError=1001]="HostAdapterConnectionError",PhoenixErrorType[PhoenixErrorType.PermissionDenied=1002]="PermissionDenied",PhoenixErrorType[PhoenixErrorType.ServiceUnavailable=1003]="ServiceUnavailable",PhoenixErrorType[PhoenixErrorType.UnknownError=1004]="UnknownError",PhoenixErrorType[PhoenixErrorType.UnsupportedArgument=1005]="UnsupportedArgument",PhoenixErrorType[PhoenixErrorType.UnsupportedEvent=1006]="UnsupportedEvent",PhoenixErrorType[PhoenixErrorType.UnsupportedMethod=1007]="UnsupportedMethod",PhoenixErrorType[PhoenixErrorType.UnsupportedService=1008]="UnsupportedService",PhoenixErrorType[PhoenixErrorType.NotImplemented=1009]="NotImplemented",PhoenixErrorType[PhoenixErrorType.UnsupportedOperation=1010]="UnsupportedOperation"}(exports.PhoenixErrorType||(exports.PhoenixErrorType={}));var PhoenixError=function(){};exports.PhoenixError=PhoenixError;var WfcVersionDetails=function(){};exports.WfcVersionDetails=WfcVersionDetails;var Versions=function(){};exports.Versions=Versions;var context,Version=function(_super){function Version(){var _newTarget=this.constructor,_this=_super.call(this,Version_1)||this;if(_newTarget!==Version_1)throw"The class Version can not be extended";return _this}var Version_1;return __extends(Version,_super),(Version_1=Version).versions=function(){return proxy_1.ProxyObject.invokeStatic(Version_1,"versions")},Version=Version_1=__decorate([common_1.$proxyObject("phoenix.Version",constants_1.kWFCHostAdapterHarborServiceName)],Version)}(proxy_1.ProxyObject);exports.Version=Version,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.versions"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){Version.versions().then(function(value){phoenix.versions=value,resolve()}).catch(function(){phoenix.versions=null,resolve()})})}),context["phoenix.versions"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],64:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./speech"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./speech"))})},{"./speech":65}],65:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(SpeechSynthesisState){SpeechSynthesisState.Paused="paused",SpeechSynthesisState.Pending="pending",SpeechSynthesisState.Speaking="speaking"}(exports.SpeechSynthesisState||(exports.SpeechSynthesisState={}));var SpeechSynthesisVoice=function(){};exports.SpeechSynthesisVoice=SpeechSynthesisVoice;var SpeechSynthesisUtterance=function(){this.volume=1,this.rate=1,this.pitch=1};exports.SpeechSynthesisUtterance=SpeechSynthesisUtterance;var SpeechSynthesis=function(_super){function SpeechSynthesis(){var _newTarget=this.constructor,_this=_super.call(this,SpeechSynthesis_1)||this;if(_newTarget!==SpeechSynthesis_1)throw"The class SpeechSynthesis can not be extended";return _this}var SpeechSynthesis_1;return __extends(SpeechSynthesis,_super),(SpeechSynthesis_1=SpeechSynthesis).prototype.state=function(){return this.invoke("state")},SpeechSynthesis.prototype.speak=function(utterance){return this.invoke("speak",utterance)},SpeechSynthesis.prototype.cancel=function(){return this.invoke("cancel")},SpeechSynthesis.prototype.pause=function(){return this.invoke("pause")},SpeechSynthesis.prototype.resume=function(){return this.invoke("resume")},SpeechSynthesis.supportedVoices=function(){return proxy_1.ProxyObject.invokeStatic(SpeechSynthesis_1,"supportedVoices")},SpeechSynthesis.supportedLanguages=function(){return proxy_1.ProxyObject.invokeStatic(SpeechSynthesis_1,"supportedLanguages")},SpeechSynthesis=SpeechSynthesis_1=__decorate([common_1.$proxyObject("phoenix.speech.SpeechSynthesis",constants_1.kWFCHostAdapterHarborServiceName)],SpeechSynthesis)}(proxy_1.ProxyObject);exports.SpeechSynthesis=SpeechSynthesis})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],66:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AlarmType,RepeatFrequency,TimezoneDirective,common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(AlarmType){AlarmType.Timer="timer"}(AlarmType=exports.AlarmType||(exports.AlarmType={})),function(AlarmStatus){AlarmStatus.Active="active",AlarmStatus.Expired="expired"}(exports.AlarmStatus||(exports.AlarmStatus={})),function(RepeatFrequency){RepeatFrequency.Once="once",RepeatFrequency.Hourly="hourly",RepeatFrequency.Daily="daily",RepeatFrequency.Weekly="weekly",RepeatFrequency.Monthly="monthly",RepeatFrequency.Yearly="yearly"}(RepeatFrequency=exports.RepeatFrequency||(exports.RepeatFrequency={})),function(TimezoneDirective){TimezoneDirective.RespectTimeZone="respectTimezone",TimezoneDirective.IgnoreTimeZone="ignoreTimezone"}(TimezoneDirective=exports.TimezoneDirective||(exports.TimezoneDirective={}));var TimerOptions=function(){this.repeatFrequency=RepeatFrequency.Once,this.timezoneDirective=TimezoneDirective.RespectTimeZone};exports.TimerOptions=TimerOptions;var AlarmOptions=function(){this.type=AlarmType.Timer};exports.AlarmOptions=AlarmOptions;var Alarm=function(_super){function Alarm(){var _newTarget=this.constructor,_this=_super.call(this,Alarm_1)||this;if(_newTarget!==Alarm_1)throw"The class Alarm can not be extended";return _this}var Alarm_1;return __extends(Alarm,_super),(Alarm_1=Alarm).prototype.id=function(){return this.invoke("id")},Alarm.prototype.type=function(){return this.invoke("type")},Alarm.prototype.status=function(){return this.invoke("status")},Alarm.prototype.options=function(){return this.invoke("options")},Alarm.prototype.data=function(){return this.invoke("data")},Alarm=Alarm_1=__decorate([common_1.$proxyObject("phoenix.sys.alarms.Alarm",constants_1.kWFCHostAdapterHarborServiceName)],Alarm)}(proxy_1.ProxyObject);exports.Alarm=Alarm;var AlarmManager=function(_super){function AlarmManager(){var _newTarget=this.constructor,_this=_super.call(this,AlarmManager_1)||this;if(_newTarget!==AlarmManager_1)throw"The class AlarmManager can not be extended";return _this}var AlarmManager_1;return __extends(AlarmManager,_super),(AlarmManager_1=AlarmManager).get=function(user,packageId){return proxy_1.ProxyObject.invokeStatic(AlarmManager_1,"get",user,packageId)},AlarmManager.prototype.user=function(){return this.invoke("user")},AlarmManager.prototype.getAlarm=function(id){return this.invoke("getAlarm",id)},AlarmManager.prototype.setAlarm=function(alarmOptions){return this.invoke("setAlarm",alarmOptions)},AlarmManager.prototype.removeAlarm=function(alarm){return this.invoke("removeAlarm",alarm)},AlarmManager.prototype.all=function(type){return this.invoke("all",type)},AlarmManager.prototype.removeAll=function(type){return this.invoke("removeAll",type)},Object.defineProperty(AlarmManager.prototype,"onalarm",{get:function(){return this._onalarm},set:function(callback){this._onalarm=callback,this.requestEvent("onalarm",callback)},enumerable:!0,configurable:!0}),AlarmManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!AlarmManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},AlarmManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!AlarmManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},AlarmManager._eventNames=["alarm"],AlarmManager=AlarmManager_1=__decorate([common_1.$proxyObject("phoenix.sys.alarms.AlarmManager",constants_1.kWFCHostAdapterHarborServiceName)],AlarmManager)}(proxy_1.ProxyObject);exports.AlarmManager=AlarmManager})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],67:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./alarms"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./alarms"))})},{"./alarms":66}],68:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./alarms/index","./input/index","./keyboard/index","./notifications/index","./persistency/index","./settings/index"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var alarms=require("./alarms/index");exports.alarms=alarms;var input=require("./input/index");exports.input=input;var keyboard=require("./keyboard/index");exports.keyboard=keyboard;var notifications=require("./notifications/index");exports.notifications=notifications;var persistency=require("./persistency/index");exports.persistency=persistency;var settings=require("./settings/index");exports.settings=settings})},{"./alarms/index":67,"./input/index":69,"./keyboard/index":71,"./notifications/index":73,"./persistency/index":75,"./settings/index":77}],69:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./input"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./input"))})},{"./input":70}],70:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(InputEventType){InputEventType.BackButton="back-button"}(exports.InputEventType||(exports.InputEventType={}));var InputEvent=function(){};exports.InputEvent=InputEvent;var context,InputManager=function(_super){function InputManager(){var _newTarget=this.constructor,_this=_super.call(this,InputManager_1)||this;if(_newTarget!==InputManager_1)throw"The class InputManager can not be extended";return _this}var InputManager_1;return __extends(InputManager,_super),(InputManager_1=InputManager).get=function(){return proxy_1.ProxyObject.invokeStatic(InputManager_1,"get")},InputManager.prototype.eventHandled=function(eventId){return this.invoke("eventHandled",eventId)},InputManager.prototype.eventNotHandled=function(eventId){return this.invoke("eventNotHandled",eventId)},Object.defineProperty(InputManager.prototype,"oninputevent",{get:function(){return this._oninputevent},set:function(callback){this._oninputevent=callback,this.requestEvent("oninputevent",callback)},enumerable:!0,configurable:!0}),InputManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!InputManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},InputManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!InputManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},InputManager._eventNames=["inputevent"],InputManager=InputManager_1=__decorate([common_1.$proxyObject("phoenix.sys.input.InputManager",constants_1.kWFCHostAdapterHarborServiceName)],InputManager)}(proxy_1.ProxyObject);exports.InputManager=InputManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.sys.input.inputManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){InputManager.get().then(function(value){phoenix.sys.input.inputManager=value,resolve()}).catch(function(){phoenix.sys.input.inputManager=null,resolve()})})}),context["phoenix.sys.input.inputManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],71:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./keyboard"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./keyboard"))})},{"./keyboard":72}],72:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var KeyboardMode,common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),KeyboardConstraints=function(){this.maxLength=1/0};exports.KeyboardConstraints=KeyboardConstraints,function(KeyboardMode){KeyboardMode.Alphabetical="alphabetical",KeyboardMode.Alphanumeric="alphanumeric",KeyboardMode.Email="email",KeyboardMode.Numeric="numeric",KeyboardMode.Phone="phone",KeyboardMode.Url="url"}(KeyboardMode=exports.KeyboardMode||(exports.KeyboardMode={}));var KeyboardInitOptions=function(){this.mode=KeyboardMode.Alphabetical,this.language="en-US",this.placeholder="",this.password=!1};exports.KeyboardInitOptions=KeyboardInitOptions,function(KeyboardEventType){KeyboardEventType.Complete="complete",KeyboardEventType.Abort="abort",KeyboardEventType.Keypress="keypress"}(exports.KeyboardEventType||(exports.KeyboardEventType={}));var KeyboardEvent=function(){};exports.KeyboardEvent=KeyboardEvent,function(ExceptionType){ExceptionType[ExceptionType.NotSupported=0]="NotSupported"}(exports.ExceptionType||(exports.ExceptionType={}));var Keyboard=function(_super){function Keyboard(init){var _newTarget=this.constructor,_this=_super.call(this,Keyboard_1,init)||this;if(_newTarget!==Keyboard_1)throw"The class Keyboard can not be extended";return _this}var Keyboard_1;return __extends(Keyboard,_super),(Keyboard_1=Keyboard).prototype.language=function(){return this.invoke("language")},Keyboard.prototype.setLanguage=function(language){return this.invoke("setLanguage",language)},Keyboard.prototype.mode=function(){return this.invoke("mode")},Keyboard.prototype.setMode=function(mode){return this.invoke("setMode",mode)},Keyboard.prototype.autocompletionList=function(){return this.invoke("autocompletionList")},Keyboard.prototype.setAutocompletionList=function(suggestions){return this.invoke("setAutocompletionList",suggestions)},Keyboard.prototype.show=function(){return this.invoke("show")},Keyboard.prototype.hide=function(){return this.invoke("hide")},Keyboard.supportedModes=function(){return proxy_1.ProxyObject.invokeStatic(Keyboard_1,"supportedModes")},Keyboard.supportedLanguages=function(){return proxy_1.ProxyObject.invokeStatic(Keyboard_1,"supportedLanguages")},Object.defineProperty(Keyboard.prototype,"onkeypress",{get:function(){return this._onkeypress},set:function(callback){this._onkeypress=callback,this.requestEvent("onkeypress",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(Keyboard.prototype,"oncomplete",{get:function(){return this._oncomplete},set:function(callback){this._oncomplete=callback,this.requestEvent("oncomplete",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(Keyboard.prototype,"onabort",{get:function(){return this._onabort},set:function(callback){this._onabort=callback,this.requestEvent("onabort",callback)},enumerable:!0,configurable:!0}),Keyboard.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!Keyboard_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},Keyboard.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!Keyboard_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},Keyboard._eventNames=["keypress","complete","abort"],Keyboard=Keyboard_1=__decorate([common_1.$proxyObject("phoenix.sys.keyboard.Keyboard",constants_1.kWFCHostAdapterHarborServiceName)],Keyboard)}(proxy_1.ProxyObject);exports.Keyboard=Keyboard})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],73:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./notifications"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./notifications"))})},{"./notifications":74}],74:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NotificationPriority,NotificationBehavior,NotificationCategory,ActionType,common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(NotificationPriority){NotificationPriority.Default="default",NotificationPriority.High="high",NotificationPriority.Low="low"}(NotificationPriority=exports.NotificationPriority||(exports.NotificationPriority={})),function(NotificationBehavior){NotificationBehavior.Persistent="persistent",NotificationBehavior.Transient="transient"}(NotificationBehavior=exports.NotificationBehavior||(exports.NotificationBehavior={})),function(NotificationCategory){NotificationCategory.Default="default",NotificationCategory.Alarm="alarm",NotificationCategory.Call="call",NotificationCategory.Email="email",NotificationCategory.Error="error",NotificationCategory.Media="media",NotificationCategory.Message="message",NotificationCategory.Reminder="reminder",NotificationCategory.System="system"}(NotificationCategory=exports.NotificationCategory||(exports.NotificationCategory={})),function(ActionType){ActionType.Button="button",ActionType.Checkbox="checkbox"}(ActionType=exports.ActionType||(exports.ActionType={}));var NotificationAction=function(){this.type=ActionType.Button,this.autoTriggerTimeout=0};exports.NotificationAction=NotificationAction;var NotificationDetails=function(){this.category=NotificationCategory.Default,this.behavior=NotificationBehavior.Persistent,this.disposable=!0,this.priority=NotificationPriority.Default,this.pinned=!1};exports.NotificationDetails=NotificationDetails;var context,NotificationManager=function(_super){function NotificationManager(){var _newTarget=this.constructor,_this=_super.call(this,NotificationManager_1)||this;if(_newTarget!==NotificationManager_1)throw"The class NotificationManager can not be extended";return _this}var NotificationManager_1;return __extends(NotificationManager,_super),(NotificationManager_1=NotificationManager).get=function(){return proxy_1.ProxyObject.invokeStatic(NotificationManager_1,"get")},NotificationManager.prototype.create=function(details){return this.invoke("create",details)},NotificationManager.prototype.getActiveNotifications=function(){return this.invoke("getActiveNotifications")},NotificationManager.prototype.remove=function(id){return this.invoke("remove",id)},Object.defineProperty(NotificationManager.prototype,"onnotificationremoved",{get:function(){return this._onnotificationremoved},set:function(callback){this._onnotificationremoved=callback,this.requestEvent("onnotificationremoved",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(NotificationManager.prototype,"onnotificationchange",{get:function(){return this._onnotificationchange},set:function(callback){this._onnotificationchange=callback,this.requestEvent("onnotificationchange",callback)},enumerable:!0,configurable:!0}),NotificationManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!NotificationManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},NotificationManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!NotificationManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},NotificationManager._eventNames=["notificationremoved","notificationchange"],NotificationManager=NotificationManager_1=__decorate([common_1.$proxyObject("phoenix.sys.notifications.NotificationManager",constants_1.kWFCHostAdapterHarborServiceName)],NotificationManager)}(proxy_1.ProxyObject);exports.NotificationManager=NotificationManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.sys.notifications.notificationManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){NotificationManager.get().then(function(value){phoenix.sys.notifications.notificationManager=value,resolve()}).catch(function(){phoenix.sys.notifications.notificationManager=null,resolve()})})}),context["phoenix.sys.notifications.notificationManager"]=!0;var Notification=function(_super){function Notification(){var _newTarget=this.constructor,_this=_super.call(this,Notification_1)||this;if(_newTarget!==Notification_1)throw"The class Notification can not be extended";return _this}var Notification_1;return __extends(Notification,_super),(Notification_1=Notification).prototype.show=function(){return this.invoke("show")},Notification.prototype.hide=function(){return this.invoke("hide")},Notification.prototype.id=function(){return this.invoke("id")},Notification.prototype.behavior=function(){return this.invoke("behavior")},Notification.prototype.setBehavior=function(behavior){return this.invoke("setBehavior",behavior)},Notification.prototype.priority=function(){return this.invoke("priority")},Notification.prototype.setPriority=function(priority){return this.invoke("setPriority",priority)},Notification.prototype.contentTitle=function(){return this.invoke("contentTitle")},Notification.prototype.setContentTitle=function(title){return this.invoke("setContentTitle",title)},Notification.prototype.contentText=function(){return this.invoke("contentText")},Notification.prototype.setContentText=function(text){return this.invoke("setContentText",text)},Notification.prototype.category=function(){return this.invoke("category")},Notification.prototype.setCategory=function(category){return this.invoke("setCategory",category)},Object.defineProperty(Notification.prototype,"onnotificationaction",{get:function(){return this._onnotificationaction},set:function(callback){this._onnotificationaction=callback,this.requestEvent("onnotificationaction",callback)},enumerable:!0,configurable:!0}),Notification.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!Notification_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},Notification.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!Notification_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},Notification._eventNames=["notificationaction"],Notification=Notification_1=__decorate([common_1.$proxyObject("phoenix.sys.notifications.Notification",constants_1.kWFCHostAdapterHarborServiceName)],Notification)}(proxy_1.ProxyObject);exports.Notification=Notification})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],75:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./persistency"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./persistency"))})},{"./persistency":76}],76:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),PersitencyEventDetail=function(){};exports.PersitencyEventDetail=PersitencyEventDetail;var PersistencyStoreType,PersistencyEvent=function(){};exports.PersistencyEvent=PersistencyEvent,function(PersistencyStoreType){PersistencyStoreType.Application="application",PersistencyStoreType.User="user"}(PersistencyStoreType=exports.PersistencyStoreType||(exports.PersistencyStoreType={}));var context,Persistency=function(_super){function Persistency(){var _newTarget=this.constructor,_this=_super.call(this,Persistency_1)||this;if(_newTarget!==Persistency_1)throw"The class Persistency can not be extended";return _this}var Persistency_1;return __extends(Persistency,_super),(Persistency_1=Persistency).get=function(store,user){return proxy_1.ProxyObject.invokeStatic(Persistency_1,"get",store,user)},Persistency.prototype.setItem=function(key,item){return this.invoke("setItem",key,item)},Persistency.prototype.getItem=function(key){return this.invoke("getItem",key)},Persistency.prototype.removeItem=function(key){return this.invoke("removeItem",key)},Persistency.prototype.clear=function(){return this.invoke("clear")},Persistency.prototype.size=function(){return this.invoke("size")},Object.defineProperty(Persistency.prototype,"onerror",{get:function(){return this._onerror},set:function(callback){this._onerror=callback,this.requestEvent("onerror",callback)},enumerable:!0,configurable:!0}),Persistency.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!Persistency_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},Persistency.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!Persistency_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},Persistency._eventNames=["error"],Persistency=Persistency_1=__decorate([common_1.$proxyObject("phoenix.sys.persistency.Persistency",constants_1.kWFCHostAdapterHarborServiceName)],Persistency)}(proxy_1.ProxyObject);exports.Persistency=Persistency,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.sys.persistency.appStorage"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){Persistency.get(PersistencyStoreType.Application).then(function(value){phoenix.sys.persistency.appStorage=value,resolve()}).catch(function(){phoenix.sys.persistency.appStorage=null,resolve()})})}),context["phoenix.sys.persistency.appStorage"]=!0,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.sys.persistency.userStorage"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){Persistency.get(PersistencyStoreType.User).then(function(value){phoenix.sys.persistency.userStorage=value,resolve()}).catch(function(){phoenix.sys.persistency.userStorage=null,resolve()})})}),context["phoenix.sys.persistency.userStorage"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],77:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./settings"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./settings"))})},{"./settings":78}],78:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SettingsFilter,common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(SettingName){SettingName.Brightness="brightness",SettingName.Bluetooth="bluetooth",SettingName.DateFormat="date-format",SettingName.DayLightSaving="day-light-saving",SettingName.DistanceUnit="distance-unit",SettingName.MobileData="mobile-data",SettingName.NetworkConnectivity="network-connectivity",SettingName.TemperatureUnit="temperature-unit",SettingName.TextLanguage="text-language",SettingName.TimeFormat="time-format",SettingName.TimeZone="time-zone",SettingName.VoiceLanguage="voice-language"}(exports.SettingName||(exports.SettingName={})),function(SettingsFilter){SettingsFilter.All="all",SettingsFilter.Audio="audio",SettingsFilter.Bluetooth="bluetooth",SettingsFilter.Connectivity="connectivity",SettingsFilter.Notifications="notifications"}(SettingsFilter=exports.SettingsFilter||(exports.SettingsFilter={}));var context,SettingsManager=function(_super){function SettingsManager(){var _newTarget=this.constructor,_this=_super.call(this,SettingsManager_1)||this;if(_newTarget!==SettingsManager_1)throw"The class SettingsManager can not be extended";return _this}var SettingsManager_1;return __extends(SettingsManager,_super),(SettingsManager_1=SettingsManager).get=function(){return proxy_1.ProxyObject.invokeStatic(SettingsManager_1,"get")},SettingsManager.prototype.getValue=function(name,extraInformation){return this.invoke("getValue",name,extraInformation)},SettingsManager.prototype.setValue=function(name,value,extraInformation){return this.invoke("setValue",name,value,extraInformation)},SettingsManager.prototype.showSettingsScreen=function(filter){return void 0===filter&&(filter=SettingsFilter.All),this.invoke("showSettingsScreen",filter)},Object.defineProperty(SettingsManager.prototype,"onchange",{get:function(){return this._onchange},set:function(callback){this._onchange=callback,this.requestEvent("onchange",callback)},enumerable:!0,configurable:!0}),SettingsManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!SettingsManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},SettingsManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!SettingsManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},SettingsManager._eventNames=["change"],SettingsManager=SettingsManager_1=__decorate([common_1.$proxyObject("phoenix.sys.settings.SettingsManager",constants_1.kWFCHostAdapterHarborServiceName)],SettingsManager)}(proxy_1.ProxyObject);exports.SettingsManager=SettingsManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.sys.settings.settingsManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){SettingsManager.get().then(function(value){phoenix.sys.settings.settingsManager=value,resolve()}).catch(function(){phoenix.sys.settings.settingsManager=null,resolve()})})}),context["phoenix.sys.settings.settingsManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],79:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./telephony"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./telephony"))})},{"./telephony":80}],80:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(CallState){CallState.Connected="connected",CallState.Dialing="dialing",CallState.Disconnected="disconnected",CallState.Held="held"}(exports.CallState||(exports.CallState={}));var DialOptions=function(){this.promptUser=!0};exports.DialOptions=DialOptions;var Call=function(_super){function Call(){var _newTarget=this.constructor,_this=_super.call(this,Call_1)||this;if(_newTarget!==Call_1)throw"The class Call can not be extended";return _this}var Call_1;return __extends(Call,_super),(Call_1=Call).prototype.state=function(){return this.invoke("state")},Call.prototype.hangUp=function(){return this.invoke("hangUp")},Call.prototype.hold=function(){return this.invoke("hold")},Call.prototype.resume=function(){return this.invoke("resume")},Call=Call_1=__decorate([common_1.$proxyObject("phoenix.telephony.Call",constants_1.kWFCHostAdapterHarborServiceName)],Call)}(proxy_1.ProxyObject);exports.Call=Call;var context,TelephonyManager=function(_super){function TelephonyManager(){var _newTarget=this.constructor,_this=_super.call(this,TelephonyManager_1)||this;if(_newTarget!==TelephonyManager_1)throw"The class TelephonyManager can not be extended";return _this}var TelephonyManager_1;return __extends(TelephonyManager,_super),(TelephonyManager_1=TelephonyManager).get=function(){return proxy_1.ProxyObject.invokeStatic(TelephonyManager_1,"get")},TelephonyManager.prototype.dial=function(number,options){return this.invoke("dial",number,options)},TelephonyManager=TelephonyManager_1=__decorate([common_1.$proxyObject("phoenix.telephony.TelephonyManager",constants_1.kWFCHostAdapterHarborServiceName)],TelephonyManager)}(proxy_1.ProxyObject);exports.TelephonyManager=TelephonyManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.telephony.telephonyManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){TelephonyManager.get().then(function(value){phoenix.telephony.telephonyManager=value,resolve()}).catch(function(){phoenix.telephony.telephonyManager=null,resolve()})})}),context["phoenix.telephony.telephonyManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],81:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./users"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./users"))})},{"./users":82}],82:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(LoginState){LoginState.LoggedIn="logged-in",LoginState.Loggedout="logged-out"}(exports.LoginState||(exports.LoginState={}));var User=function(_super){function User(){var _newTarget=this.constructor,_this=_super.call(this,User_1)||this;if(_newTarget!==User_1)throw"The class User can not be extended";return _this}var User_1;return __extends(User,_super),(User_1=User).prototype.supportedAttributes=function(){return this.invoke("supportedAttributes")},User.prototype.getAttribute=function(attributeName){return this.invoke("getAttribute",attributeName)},User.prototype.setAttribute=function(attributeName,attributeValue){return this.invoke("setAttribute",attributeName,attributeValue)},User.prototype.logout=function(){return this.invoke("logout")},User.prototype.isLoggedIn=function(){return this.invoke("isLoggedIn")},User.prototype.login=function(){return this.invoke("login")},Object.defineProperty(User.prototype,"onloginstatechange",{get:function(){return this._onloginstatechange},set:function(callback){this._onloginstatechange=callback,this.requestEvent("onloginstatechange",callback)},enumerable:!0,configurable:!0}),User.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!User_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},User.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!User_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},User._eventNames=["loginstatechange"],User=User_1=__decorate([common_1.$proxyObject("phoenix.users.User",constants_1.kWFCHostAdapterHarborServiceName)],User)}(proxy_1.ProxyObject);exports.User=User;var context,UserManager=function(_super){function UserManager(){var _newTarget=this.constructor,_this=_super.call(this,UserManager_1)||this;if(_newTarget!==UserManager_1)throw"The class UserManager can not be extended";return _this}var UserManager_1;return __extends(UserManager,_super),(UserManager_1=UserManager).get=function(){return proxy_1.ProxyObject.invokeStatic(UserManager_1,"get")},UserManager.prototype.availableUsers=function(){return this.invoke("availableUsers")},UserManager.prototype.supportsMultiUserLogin=function(){return this.invoke("supportsMultiUserLogin")},UserManager.prototype.activeUsers=function(){return this.invoke("activeUsers")},UserManager.prototype.requestLoginPrompt=function(){return this.invoke("requestLoginPrompt")},Object.defineProperty(UserManager.prototype,"onuserloggedin",{get:function(){return this._onuserloggedin},set:function(callback){this._onuserloggedin=callback,this.requestEvent("onuserloggedin",callback)},enumerable:!0,configurable:!0}),UserManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!UserManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},UserManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!UserManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},UserManager._eventNames=["userloggedin"],UserManager=UserManager_1=__decorate([common_1.$proxyObject("phoenix.users.UserManager",constants_1.kWFCHostAdapterHarborServiceName)],UserManager)}(proxy_1.ProxyObject);exports.UserManager=UserManager,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.users.userManager"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){UserManager.get().then(function(value){phoenix.users.userManager=value,resolve()}).catch(function(){phoenix.users.userManager=null,resolve()})})}),context["phoenix.users.userManager"]=!0})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],83:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./logging"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./logging"))})},{"./logging":84}],84:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),Logging=function(_super){function Logging(){var _newTarget=this.constructor,_this=_super.call(this,Logging_1)||this;if(_newTarget!==Logging_1)throw"The class Logging can not be extended";return _this}var Logging_1;return __extends(Logging,_super),(Logging_1=Logging).prototype.debug=function(message){return this.invoke("debug",message)},Logging.prototype.error=function(message){return this.invoke("error",message)},Logging.prototype.fatal=function(message){return this.invoke("fatal",message)},Logging.prototype.info=function(message){return this.invoke("info",message)},Logging.prototype.log=function(message){return this.invoke("log",message)},Logging.prototype.trace=function(message){return this.invoke("trace",message)},Logging.prototype.warn=function(message){return this.invoke("warn",message)},Logging=Logging_1=__decorate([common_1.$proxyObject("phoenix.util.Logging",constants_1.kWFCHostAdapterHarborServiceName)],Logging)}(proxy_1.ProxyObject);exports.Logging=Logging})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],85:[function(require,module,exports){(function(global){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants");!function(IconMimeType){IconMimeType.Png="image/png",IconMimeType.Jpeg="image/jpeg"}(exports.IconMimeType||(exports.IconMimeType={})),function(EncodingFormat){EncodingFormat.Base64="base64"}(exports.EncodingFormat||(exports.EncodingFormat={}));var IconInfo=function(){};exports.IconInfo=IconInfo,function(ApplicationState){ApplicationState.Closed="closed",ApplicationState.Closing="closing",ApplicationState.FocusGain="focus-gain",ApplicationState.FocusLost="focus-lost",ApplicationState.Launched="launched",ApplicationState.Launching="launching"}(exports.ApplicationState||(exports.ApplicationState={})),function(ApplicationType){ApplicationType.WebApplication="web-application",ApplicationType.WebAgent="web-agent",ApplicationType.NativeApplication="native-application"}(exports.ApplicationType||(exports.ApplicationType={}));var ApplicationTimestamp=function(){};exports.ApplicationTimestamp=ApplicationTimestamp;var ApplicationInfo=function(){};exports.ApplicationInfo=ApplicationInfo;var ApplicationFilter=function(){};exports.ApplicationFilter=ApplicationFilter;var ApplicationOptions=function(){};exports.ApplicationOptions=ApplicationOptions,function(ApplicationManagerEventType){ApplicationManagerEventType.Install="install",ApplicationManagerEventType.Uninstall="uninstall"}(exports.ApplicationManagerEventType||(exports.ApplicationManagerEventType={}));var ApplicationManagerEvent=function(){};exports.ApplicationManagerEvent=ApplicationManagerEvent,function(UpdateAction){UpdateAction.Install="install",UpdateAction.Uninstall="uninstall",UpdateAction.Update="update"}(exports.UpdateAction||(exports.UpdateAction={}));var UpdateDetails=function(){};exports.UpdateDetails=UpdateDetails,function(UpdateState){UpdateState.NoUpdate="no-update",UpdateState.NoSync="no-sync",UpdateState.SyncInProgress="sync-in-progress",UpdateState.SyncFinishedNoUpdate="sync-finished-no-update",UpdateState.SyncFinishedUpdateAvailable="sync-finished-update-available",UpdateState.DownloadPending="download-pending",UpdateState.DownloadInProgress="download-in-progress",UpdateState.DownloadSuccess="download-success",UpdateState.DownloadFailed="download-failed",UpdateState.DownloadPaused="download-paused",UpdateState.InstallPending="install-pending",UpdateState.InstallInProgress="install-in-progress",UpdateState.InstallSuccess="install-success",UpdateState.InstallFailed="install-failed"}(exports.UpdateState||(exports.UpdateState={}));var UpdateInfo=function(){};exports.UpdateInfo=UpdateInfo,function(SettingType){SettingType.SubMenu="sub-menu",SettingType.Toggle="toggle",SettingType.Slider="slider",SettingType.ScrollingTextView="scrolling-text-view",SettingType.ActionButton="action-button",SettingType.TextInput="text-input",SettingType.CheckboxSelector="checkbox-selector",SettingType.RadioSelector="radio-selector",SettingType.ThreeWaySelector="three-way-selector",SettingType.TwoWaySelector="two-way-selector"}(exports.SettingType||(exports.SettingType={}));var SettingValue=function(){};exports.SettingValue=SettingValue;var ApplicationSettings=function(_super){function ApplicationSettings(){var _newTarget=this.constructor,_this=_super.call(this,ApplicationSettings_1)||this;if(_newTarget!==ApplicationSettings_1)throw"The class ApplicationSettings can not be extended";return _this}var ApplicationSettings_1;return __extends(ApplicationSettings,_super),(ApplicationSettings_1=ApplicationSettings).prototype.keys=function(){return this.invoke("keys")},ApplicationSettings.prototype.values=function(){return this.invoke("values").then(function(value){return new Map(value)})},ApplicationSettings.prototype.value=function(key){return this.invoke("value",key)},ApplicationSettings.prototype.setValue=function(key,value){return this.invoke("setValue",key,value)},ApplicationSettings.prototype.setValues=function(values){return this.invoke("setValues",__spread(values))},Object.defineProperty(ApplicationSettings.prototype,"onsettingchanged",{get:function(){return this._onsettingchanged},set:function(callback){this._onsettingchanged=callback,this.requestEvent("onsettingchanged",callback)},enumerable:!0,configurable:!0}),ApplicationSettings.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!ApplicationSettings_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},ApplicationSettings.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!ApplicationSettings_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},ApplicationSettings._eventNames=["settingchanged"],ApplicationSettings=ApplicationSettings_1=__decorate([common_1.$proxyObject("phoenix.wfc.ApplicationSettings",constants_1.kWFCHostAdapterHarborServiceName)],ApplicationSettings)}(proxy_1.ProxyObject);exports.ApplicationSettings=ApplicationSettings;var context,Application=function(_super){function Application(){var _newTarget=this.constructor,_this=_super.call(this,Application_1)||this;if(_newTarget!==Application_1)throw"The class Application can not be extended";return _this}var Application_1;return __extends(Application,_super),(Application_1=Application).get=function(){return proxy_1.ProxyObject.invokeStatic(Application_1,"get")},Application.prototype.exit=function(code){void 0===code&&(code=0),this.invoke("exit",code)},Application.prototype.requestToForeground=function(){return this.invoke("requestToForeground")},Application.prototype.requestToBackground=function(){return this.invoke("requestToBackground")},Application.prototype.settings=function(){return this.invoke("settings")},Object.defineProperty(Application.prototype,"onstatechange",{get:function(){return this._onstatechange},set:function(callback){this._onstatechange=callback,this.requestEvent("onstatechange",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(Application.prototype,"onclosing",{get:function(){return this._onclosing},set:function(callback){this._onclosing=callback,this.requestEvent("onclosing",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(Application.prototype,"ondestroying",{get:function(){return this._ondestroying},set:function(callback){this._ondestroying=callback,this.requestEvent("ondestroying",callback)},enumerable:!0,configurable:!0}),Application.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!Application_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},Application.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!Application_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},Application._eventNames=["statechange","closing","destroying"],Application=Application_1=__decorate([common_1.$proxyObject("phoenix.wfc.Application",constants_1.kWFCHostAdapterHarborServiceName)],Application)}(proxy_1.ProxyObject);exports.Application=Application,(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenixInitializers||(context.phoenixInitializers=[]),context["phoenix.wfc.application"]||context.phoenixInitializers.push(function(phoenix){return new Promise(function(resolve,reject){Application.get().then(function(value){phoenix.wfc.application=value,resolve()}).catch(function(){phoenix.wfc.application=null,resolve()})})}),context["phoenix.wfc.application"]=!0;var ApplicationManager=function(_super){function ApplicationManager(){var _newTarget=this.constructor,_this=_super.call(this,ApplicationManager_1)||this;if(_newTarget!==ApplicationManager_1)throw"The class ApplicationManager can not be extended";return _this}var ApplicationManager_1;return __extends(ApplicationManager,_super),(ApplicationManager_1=ApplicationManager).prototype.install=function(path){return this.invoke("install",path)},ApplicationManager.prototype.uninstall=function(packageId){return this.invoke("uninstall",packageId)},ApplicationManager.prototype.update=function(details){return this.invoke("update",details)},ApplicationManager.prototype.getUpdateStatus=function(){return this.invoke("getUpdateStatus")},ApplicationManager.prototype.initiateUpdateDownload=function(){return this.invoke("initiateUpdateDownload")},ApplicationManager.prototype.getApplicationsList=function(options){return this.invoke("getApplicationsList",options)},ApplicationManager.prototype.launch=function(packageId){return this.invoke("launch",packageId)},ApplicationManager.prototype.close=function(packageId){return this.invoke("close",packageId)},ApplicationManager.prototype.getApplicationsTiles=function(type){return this.invoke("getApplicationsTiles",type).then(function(value){return new Map(value)})},ApplicationManager.prototype.getAllApplicationsSpeechCommands=function(type){return this.invoke("getAllApplicationsSpeechCommands",type).then(function(value){return new Map(value)})},ApplicationManager.prototype.applicationSpeechCommands=function(packageId){return this.invoke("applicationSpeechCommands",packageId).then(function(value){return new Map(value)})},ApplicationManager.prototype.getAllApplicationsSettings=function(type){return this.invoke("getAllApplicationsSettings",type).then(function(value){return new Map(value)})},ApplicationManager.prototype.applicationSettings=function(packageId){return this.invoke("applicationSettings",packageId)},ApplicationManager.prototype.updateApplicationSettings=function(packageId,settings){return this.invoke("updateApplicationSettings",packageId,settings)},ApplicationManager.prototype.restoreToFactoryState=function(){return this.invoke("restoreToFactoryState")},Object.defineProperty(ApplicationManager.prototype,"oninstall",{get:function(){return this._oninstall},set:function(callback){this._oninstall=callback,this.requestEvent("oninstall",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationManager.prototype,"onuninstall",{get:function(){return this._onuninstall},set:function(callback){this._onuninstall=callback,this.requestEvent("onuninstall",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationManager.prototype,"onupdatestatechanged",{get:function(){return this._onupdatestatechanged},set:function(callback){this._onupdatestatechanged=callback,this.requestEvent("onupdatestatechanged",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationManager.prototype,"onupdateavailable",{get:function(){return this._onupdateavailable},set:function(callback){this._onupdateavailable=callback,this.requestEvent("onupdateavailable",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationManager.prototype,"onupdatecompleted",{get:function(){return this._onupdatecompleted},set:function(callback){this._onupdatecompleted=callback,this.requestEvent("onupdatecompleted",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationManager.prototype,"ondownloadprogress",{get:function(){return this._ondownloadprogress},set:function(callback){this._ondownloadprogress=callback,this.requestEvent("ondownloadprogress",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationManager.prototype,"ondownloadfailed",{get:function(){return this._ondownloadfailed},set:function(callback){this._ondownloadfailed=callback,this.requestEvent("ondownloadfailed",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationManager.prototype,"ondownloadpaused",{get:function(){return this._ondownloadpaused},set:function(callback){this._ondownloadpaused=callback,this.requestEvent("ondownloadpaused",callback)},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationManager.prototype,"oninstallationprogress",{get:function(){return this._oninstallationprogress},set:function(callback){this._oninstallationprogress=callback,this.requestEvent("oninstallationprogress",callback)},enumerable:!0,configurable:!0}),ApplicationManager.prototype.addEventListener=function(eventName,eventListener,errorEventListener,options){if(!ApplicationManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.requestEvent("on"+eventName,eventListener,options)},ApplicationManager.prototype.removeEventListener=function(eventName,eventListener,errorEventListener,options){if(!ApplicationManager_1._eventNames.find(function(name){return eventName===name})&&errorEventListener){if(!(errorEventListener instanceof Function))throw"errorEventListener MUST be of Function type";errorEventListener(new Error("Invalid eventName: "+eventName))}this.removeEvent("on"+eventName,eventListener,options)},ApplicationManager._eventNames=["install","uninstall","updatestatechanged","updateavailable","updatecompleted","downloadprogress","downloadfailed","downloadpaused","installationprogress"],ApplicationManager=ApplicationManager_1=__decorate([common_1.$proxyObject("phoenix.wfc.ApplicationManager",constants_1.kWFCHostAdapterHarborServiceName)],ApplicationManager)}(proxy_1.ProxyObject);exports.ApplicationManager=ApplicationManager})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],86:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./application_manager"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(require("./application_manager"))})},{"./application_manager":85}],87:[function(require,module,exports){(function(global){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/harbor/dist/common","@phoenix/harbor/dist/proxy","@phoenix/constants","@phoenix/apis-sdk/dist/proxy","./local/i18n_impl"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var common_1=require("@phoenix/harbor/dist/common"),proxy_1=require("@phoenix/harbor/dist/proxy"),constants_1=require("@phoenix/constants"),proxy=require("@phoenix/apis-sdk/dist/proxy");require("./local/i18n_impl"),delete proxy.phoenix.sys.alarms;var ProxyConnectionObserver=function(){function ProxyConnectionObserver(){}return ProxyConnectionObserver.prototype.onError=function(error){var context;this._errorFn||(context="undefined"!=typeof window?window:global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global).phoenix&&context.phoenix.onerror&&"function"==typeof context.phoenix.onerror&&(this._errorFn=context.phoenix.onerror);this._errorFn&&this._errorFn(error)},ProxyConnectionObserver}();function initializePhoenix(context,options){!function(context){var onerrorFn,ontokenchangeFn;Object.defineProperty(context.phoenix,"onerror",{get:function(){return onerrorFn},set:function(fn){if("function"!=typeof fn)throw"Invalid Assignment: onerror callback should be a function";onerrorFn=fn}}),Object.defineProperty(context.phoenix,"ontokenchange",{get:function(){return ontokenchangeFn},set:function(fn){if("function"!=typeof fn)throw"Invalid Assignment: ontokenchange callback should be a function";ontokenchangeFn=fn}})}(context),proxy_1.ProxyService.initialize([options]).then(function(){proxy.internal.TokenHelper.get().then(function(tokenHelper){tokenHelper.ontokenchange=function(token){context.phoenix&&context.phoenix.ontokenchange&&"function"==typeof context.phoenix.ontokenchange&&context.phoenix.ontokenchange(token)}})}).then(function(){var promises=[];context.phoenixInitializers.forEach(function(fn){promises.push(fn(context.phoenix))}),Promise.all(promises).then(function(){Object.freeze(context.phoenix),context.phoenix.ready.resolve()}).catch(function(e){context.phoenix.ready.resolve()})})}!function(){if("undefined"!=typeof window)window.phoenix||(window.phoenix={},Object.assign(window.phoenix,proxy.phoenix),window.phoenix.ready=common_1.createPromise(),(options=new common_1.ServiceOptions).name=constants_1.kWFCHostAdapterHarborServiceName,options.executionContext=common_1.ExecutionContext.Browser,options.browser.port=constants_1.kWFCHostAdapterHarborServicePort,options.proxy.observer=new ProxyConnectionObserver,options.debug.inspector=!1,initializePhoenix(window,options)),module.exports=window.phoenix;else{var options,auxillaryGlobal=void 0,origin="";auxillaryGlobal=global.Zone&&global.Zone.current.get("auxillaryGlobal")?global.Zone.current.get("auxillaryGlobal"):global,global.Zone&&global.Zone.current.get("origin")&&(origin=global.Zone.current.get("origin")),auxillaryGlobal.phoenix||(auxillaryGlobal.phoenix={},Object.assign(auxillaryGlobal.phoenix,proxy.phoenix),auxillaryGlobal.phoenix.ready=common_1.createPromise(),(options=new common_1.ServiceOptions).name=constants_1.kWFCHostAdapterHarborServiceName,options.executionContext=common_1.ExecutionContext.Node,options.node.hostUrl=origin,options.browser.port=constants_1.kWFCHostAdapterHarborServicePort,options.proxy.observer=new ProxyConnectionObserver,options.debug.inspector=!1,initializePhoenix(auxillaryGlobal,options)),module.exports=auxillaryGlobal.phoenix}}()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./local/i18n_impl":88,"@phoenix/apis-sdk/dist/proxy":37,"@phoenix/constants":89,"@phoenix/harbor/dist/common":95,"@phoenix/harbor/dist/proxy":101}],88:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","@phoenix/apis-sdk/dist/local/phoenix/i18n","node-polyglot"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i18n_1=require("@phoenix/apis-sdk/dist/local/phoenix/i18n"),Polyglot=require("node-polyglot"),LocalizationImpl=function(_super){function LocalizationImpl(options){var _this=_super.call(this)||this;return _this._localisationInstance=new Polyglot(options),_this}return __extends(LocalizationImpl,_super),LocalizationImpl.prototype.extend=function(phrases){this._localisationInstance.extend(phrases)},LocalizationImpl.prototype.t=function(phrase,translateOptions){return this._localisationInstance.t(phrase,translateOptions)},LocalizationImpl.prototype.clear=function(){return this._localisationInstance.clear()},LocalizationImpl.prototype.replace=function(phrases){return this._localisationInstance.replace(phrases)},Object.defineProperty(LocalizationImpl.prototype,"locale",{get:function(){return this._localisationInstance.locale()},set:function(newLocale){this._localisationInstance.locale(newLocale)},enumerable:!0,configurable:!0}),LocalizationImpl.prototype.has=function(phrase){return this._localisationInstance.has(phrase)},LocalizationImpl}(i18n_1.ILocalization);i18n_1.ILocalization.Class=LocalizationImpl})},{"@phoenix/apis-sdk/dist/local/phoenix/i18n":35,"node-polyglot":18}],89:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.kWFCHostAdapterHarborServiceName="phoenix.services.wfc.hostadapter",exports.kWFCHostAdapterHarborServicePort=7070,exports.kWFCSimulationHarborServiceName="phoenix.services.wfc.simulation",exports.kWFCSimulationHarborServicePort=7071,exports.kWFCPrivateHarborServiceName="internal.services.hostadapter",exports.kWFCPrivateHarborServicePort=7072,exports.kRuntimeNodeIPCHarborServiceName="phoenix.services.runtime.node-ipc",exports.kWatchdogHarborServiceName="internal.services.watchdog",exports.kRuntimeHarborServiceName="phoenix.services.runtime",exports.kRuntimeHarborServicePort=9091,exports.kRuntimeHarborServiceIpcChannel="runtime-hmi",exports.kWamfHarborServiceName="phoenix.services.wamf",exports.kWamfHarborServicePort=5050,exports.kWamfPublicWebServerPort=5051,exports.kWamfPrivateWebServerPort=5052,exports.kWamfProxyyWebServerPort=5053,exports.kWFCApplicationDomain=".phoenix",exports.kNginxServicePort=9080,exports.kVISSHostName="wwwivi",exports.kLoggerTimestampFormat="YYYY-MM-DD HH:mm:ss.SSS Z",exports.kDeviceRootCommandLineSwitch="--device-root",exports.kDeviceRootCommandLineSeparator="=",exports.kDeviceRootEnvironmentVariable="PHOENIX_DEVICE_ROOT",exports.webAgentPackageIdPrefix="jlr.webagent.",exports.jlrBackEndVirtualHost="jlr.cloud",exports.stdioArgs=["pipe","pipe","pipe","ipc"]})},{}],90:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(ChannelEvent){ChannelEvent.close="close",ChannelEvent.error="error",ChannelEvent.message="message",ChannelEvent.open="open",ChannelEvent.authenticationFailure="authentication-failure"}(exports.ChannelEvent||(exports.ChannelEvent={}))})},{}],91:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";var CommandType;Object.defineProperty(exports,"__esModule",{value:!0}),function(CommandType){CommandType[CommandType.EventRequest=1]="EventRequest",CommandType[CommandType.EventResponse=2]="EventResponse",CommandType[CommandType.MethodRequest=3]="MethodRequest",CommandType[CommandType.MethodResponse=4]="MethodResponse",CommandType[CommandType.StaticMethodRequest=5]="StaticMethodRequest",CommandType[CommandType.StaticMethodResponse=6]="StaticMethodResponse",CommandType[CommandType.SystemEvent=7]="SystemEvent",CommandType[CommandType.MethodPromiseRejection=8]="MethodPromiseRejection",CommandType[CommandType.StaticMethodPromiseRejection=9]="StaticMethodPromiseRejection",CommandType[CommandType.EventRemoval=10]="EventRemoval"}(CommandType=exports.CommandType||(exports.CommandType={}));var Command=function(){function Command(type,requestId){switch(void 0===requestId&&(requestId=null),this.type=type,this.type){case CommandType.SystemEvent:break;case CommandType.EventResponse:case CommandType.MethodResponse:case CommandType.StaticMethodResponse:requestId||console.log("Error: The requestId MUST be specified "+type),this.requestId=requestId;break;default:this.requestId=requestId||++Command._currentRequestId}}return Command.prototype.parcel=function(){return{requestId:this.requestId,type:this.type,qualifiedClassName:this.qualifiedClassName,proxyObjectId:this.proxyObjectId,remoteObjectId:this.remoteObjectId}},Command.prototype.toString=function(){return JSON.stringify(this.parcel())},Command.updateCommand=function(command,jsonObject){command.qualifiedClassName=jsonObject.qualifiedClassName,command.proxyObjectId=jsonObject.proxyObjectId,command.remoteObjectId=jsonObject.remoteObjectId},Command._currentRequestId=0,Command}(),EventRequestCommand=function(_super){function EventRequestCommand(eventName,options,requestId){void 0===requestId&&(requestId=null);var _this=_super.call(this,CommandType.EventRequest,requestId)||this;return _this.eventName=eventName,_this.options=options,_this}return __extends(EventRequestCommand,_super),EventRequestCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={eventName:this.eventName,options:this.options};return Object.assign(self,base)},EventRequestCommand.from=function(jsonObject){var command=new EventRequestCommand(jsonObject.eventName,jsonObject.options,jsonObject.requestId);return Command.updateCommand(command,jsonObject),command},EventRequestCommand}(exports.Command=Command);exports.EventRequestCommand=EventRequestCommand;var EventRemovalCommand=function(_super){function EventRemovalCommand(eventName,options,requestId){var _this=_super.call(this,CommandType.EventRemoval,requestId)||this;return _this.eventName=eventName,_this.options=options,_this}return __extends(EventRemovalCommand,_super),EventRemovalCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={eventName:this.eventName,options:this.options};return Object.assign(self,base)},EventRemovalCommand.from=function(jsonObject){var command=new EventRemovalCommand(jsonObject.eventName,jsonObject.options,jsonObject.requestId);return Command.updateCommand(command,jsonObject),command},EventRemovalCommand}(Command);exports.EventRemovalCommand=EventRemovalCommand;var EventResponseCommand=function(_super){function EventResponseCommand(eventName,parameters,requestId){var _this=_super.call(this,CommandType.EventResponse,requestId)||this;return _this.eventName=eventName,_this.parameters=parameters,_this}return __extends(EventResponseCommand,_super),EventResponseCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={eventName:this.eventName,parameters:this.parameters};return Object.assign(self,base)},EventResponseCommand.from=function(jsonObject){var command=new EventResponseCommand(jsonObject.evename,jsonObject.parameters,jsonObject.requestId);return Command.updateCommand(command,jsonObject),command},EventResponseCommand}(Command);exports.EventResponseCommand=EventResponseCommand;var MethodRequestCommand=function(_super){function MethodRequestCommand(method,parameters,requestId){void 0===requestId&&(requestId=null);var _this=_super.call(this,CommandType.MethodRequest,requestId)||this;return _this.method=method,_this.parameters=parameters,_this}return __extends(MethodRequestCommand,_super),MethodRequestCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={method:this.method,parameters:this.parameters};return Object.assign(self,base)},MethodRequestCommand.from=function(jsonObject){var command=new MethodRequestCommand(jsonObject.method,jsonObject.parameters,jsonObject.requestId);return Command.updateCommand(command,jsonObject),command},MethodRequestCommand}(Command);exports.MethodRequestCommand=MethodRequestCommand;var MethodResponseCommand=function(_super){function MethodResponseCommand(requestId,method,returnValue,isRemoteObject){void 0===isRemoteObject&&(isRemoteObject=!1);var _this=_super.call(this,CommandType.MethodResponse,requestId)||this;return _this.method=method,_this.returnValue=returnValue,_this.isRemoteObject=isRemoteObject,_this}return __extends(MethodResponseCommand,_super),MethodResponseCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={method:this.method,returnValue:this.returnValue,isRemoteObject:this.isRemoteObject};return Object.assign(self,base)},MethodResponseCommand.from=function(jsonObject){var command=new MethodResponseCommand(jsonObject.requestId,jsonObject.method,jsonObject.returnValue,jsonObject.isRemoteObject);return Command.updateCommand(command,jsonObject),command},MethodResponseCommand}(Command);exports.MethodResponseCommand=MethodResponseCommand;var MethodPromiseRejectionCommand=function(_super){function MethodPromiseRejectionCommand(requestId,method,rejectionReason){var _this=_super.call(this,CommandType.MethodPromiseRejection,requestId)||this;return _this.method=method,_this.rejectionReason=rejectionReason,_this}return __extends(MethodPromiseRejectionCommand,_super),MethodPromiseRejectionCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={method:this.method,rejectionReason:this.rejectionReason};return Object.assign(self,base)},MethodPromiseRejectionCommand.from=function(jsonObject){var command=new MethodPromiseRejectionCommand(jsonObject.requestId,jsonObject.method,jsonObject.rejectionReason);return Command.updateCommand(command,jsonObject),command},MethodPromiseRejectionCommand}(Command);exports.MethodPromiseRejectionCommand=MethodPromiseRejectionCommand;var StaticMethodRequestCommand=function(_super){function StaticMethodRequestCommand(method,parameters,requestId){void 0===requestId&&(requestId=null);var _this=_super.call(this,CommandType.StaticMethodRequest,requestId)||this;return _this.method=method,_this.parameters=parameters,_this}return __extends(StaticMethodRequestCommand,_super),StaticMethodRequestCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={method:this.method,parameters:this.parameters};return Object.assign(self,base)},StaticMethodRequestCommand.from=function(jsonObject){var command=new StaticMethodRequestCommand(jsonObject.method,jsonObject.parameters,jsonObject.requestId);return Command.updateCommand(command,jsonObject),command},StaticMethodRequestCommand}(Command);exports.StaticMethodRequestCommand=StaticMethodRequestCommand;var StaticMethodPromiseRejectionCommand=function(_super){function StaticMethodPromiseRejectionCommand(requestId,method,rejectionReason){var _this=_super.call(this,CommandType.StaticMethodPromiseRejection,requestId)||this;return _this.method=method,_this.rejectionReason=rejectionReason,_this}return __extends(StaticMethodPromiseRejectionCommand,_super),StaticMethodPromiseRejectionCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={method:this.method,rejectionReason:this.rejectionReason};return Object.assign(self,base)},StaticMethodPromiseRejectionCommand.from=function(jsonObject){var command=new StaticMethodPromiseRejectionCommand(jsonObject.requestId,jsonObject.method,jsonObject.rejectionReason);return Command.updateCommand(command,jsonObject),command},StaticMethodPromiseRejectionCommand}(Command);exports.StaticMethodPromiseRejectionCommand=StaticMethodPromiseRejectionCommand;var StaticMethodResponseCommand=function(_super){function StaticMethodResponseCommand(requestId,method,returnValue,isRemoteObject){void 0===isRemoteObject&&(isRemoteObject=!1);var _this=_super.call(this,CommandType.StaticMethodResponse,requestId)||this;return _this.method=method,_this.returnValue=returnValue,_this.isRemoteObject=isRemoteObject,_this}return __extends(StaticMethodResponseCommand,_super),StaticMethodResponseCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={method:this.method,returnValue:this.returnValue,isRemoteObject:this.isRemoteObject};return Object.assign(self,base)},StaticMethodResponseCommand.from=function(jsonObject){var command=new StaticMethodResponseCommand(jsonObject.requestId,jsonObject.method,jsonObject.returnValue,jsonObject.isRemoteObject);return Command.updateCommand(command,jsonObject),command},StaticMethodResponseCommand}(Command);exports.StaticMethodResponseCommand=StaticMethodResponseCommand,function(SystemEventName){SystemEventName[SystemEventName.RemoteObjectCreated=1]="RemoteObjectCreated"}(exports.SystemEventName||(exports.SystemEventName={}));var SystemEventCommand=function(_super){function SystemEventCommand(eventName,data){var _this=_super.call(this,CommandType.SystemEvent)||this;return _this.eventName=eventName,_this.data=data,_this}return __extends(SystemEventCommand,_super),SystemEventCommand.prototype.parcel=function(){var base=_super.prototype.parcel.call(this),self={eventName:this.eventName,data:this.data};return Object.assign(self,base)},SystemEventCommand.from=function(jsonObject){var command=new SystemEventCommand(jsonObject.eventName,jsonObject.data);return Command.updateCommand(command,jsonObject),command},SystemEventCommand}(Command);exports.SystemEventCommand=SystemEventCommand})},{}],92:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HarborInspectorQualifiedName="@_phoenix_@.#%harbor%#.$^Inspector^$",exports.HarborServiceName="phoenix.services.harbor",exports.ErrorPermissionDenied=403,exports.MessagePermissionDenied="Unauthorized Access! Permission denied."})},{}],93:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./object_registrar"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var object_registrar_1=require("./object_registrar");function registerObject(Class,qualifiedName,serviceName,isRemoteObject){Class.qualifiedName=qualifiedName,Class.serviceName=serviceName,isRemoteObject?object_registrar_1.ObjectRegistrar.instance().registerRemote(qualifiedName,Class):object_registrar_1.ObjectRegistrar.instance().registerProxy(qualifiedName,Class)}function registerProxyObject(Class,qualifiedName,serviceName){registerObject(Class,qualifiedName,serviceName,!1)}function registerRemoteObject(Class,qualifiedName,serviceName){registerObject(Class,qualifiedName,serviceName,!0)}exports.registerProxyObject=registerProxyObject,exports.$proxyObject=function(qualifiedName,serviceName){return function(Class){registerProxyObject(Class,qualifiedName,serviceName)}},exports.registerRemoteObject=registerRemoteObject,exports.$remoteObject=function(qualifiedName,serviceName){return function(Class){registerRemoteObject(Class,qualifiedName,serviceName)}}})},{"./object_registrar":96}],94:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(IPCHandshakeType){IPCHandshakeType[IPCHandshakeType.Request=1]="Request",IPCHandshakeType[IPCHandshakeType.Proposal=2]="Proposal",IPCHandshakeType[IPCHandshakeType.Accept=3]="Accept",IPCHandshakeType[IPCHandshakeType.Reject=4]="Reject"}(exports.IPCHandshakeType||(exports.IPCHandshakeType={}));var IPCHandshakeMessage=function(){};exports.IPCHandshakeMessage=IPCHandshakeMessage})},{}],95:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./service_options","./channel","./decorators","./phoenix_error","./utility"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var service_options_1=require("./service_options");exports.BrowserOptions=service_options_1.BrowserOptions,exports.ElectronOptions=service_options_1.ElectronOptions,exports.ExecutionContext=service_options_1.ExecutionContext,exports.RemoteOptions=service_options_1.RemoteOptions,exports.ServiceOptions=service_options_1.ServiceOptions;var channel_1=require("./channel");exports.ChannelEvent=channel_1.ChannelEvent;var decorators_1=require("./decorators");exports.$proxyObject=decorators_1.$proxyObject,exports.$remoteObject=decorators_1.$remoteObject,exports.registerProxyObject=decorators_1.registerProxyObject,exports.registerRemoteObject=decorators_1.registerRemoteObject;var phoenix_error_1=require("./phoenix_error");exports.PhoenixError=phoenix_error_1.PhoenixError;var utility_1=require("./utility");exports.createPromise=utility_1.createPromise,exports.generateUniqueIdentifier=utility_1.generateUniqueIdentifier,exports.getZone=utility_1.getZone})},{"./channel":90,"./decorators":93,"./phoenix_error":97,"./service_options":98,"./utility":100}],96:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ObjectRegistrar=function(){function ObjectRegistrar(){this._proxyRegistry=new Map,this._remoteRegistry=new Map}return ObjectRegistrar.instance=function(){return ObjectRegistrar._instance||(ObjectRegistrar._instance=new ObjectRegistrar)},ObjectRegistrar.prototype.registerProxy=function(className,creator){this._proxyRegistry.set(className,creator)},ObjectRegistrar.prototype.getProxy=function(className){return this._proxyRegistry.get(className)},ObjectRegistrar.prototype.registerRemote=function(className,creator){this._remoteRegistry.set(className,creator)},ObjectRegistrar.prototype.getRemote=function(className){return this._remoteRegistry.get(className)},ObjectRegistrar}();exports.ObjectRegistrar=ObjectRegistrar})},{}],97:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(PhoenixErrorType){PhoenixErrorType[PhoenixErrorType.HostAdapterConnectionError=1001]="HostAdapterConnectionError",PhoenixErrorType[PhoenixErrorType.PermissionDenied=1002]="PermissionDenied",PhoenixErrorType[PhoenixErrorType.ServiceUnavailable=1003]="ServiceUnavailable",PhoenixErrorType[PhoenixErrorType.UnknownError=1004]="UnknownError",PhoenixErrorType[PhoenixErrorType.UnsupportedArgument=1005]="UnsupportedArgument",PhoenixErrorType[PhoenixErrorType.UnsupportedEvent=1006]="UnsupportedEvent",PhoenixErrorType[PhoenixErrorType.UnsupportedMethod=1007]="UnsupportedMethod",PhoenixErrorType[PhoenixErrorType.UnsupportedService=1008]="UnsupportedService",PhoenixErrorType[PhoenixErrorType.NotImplemented=1009]="NotImplemented",PhoenixErrorType[PhoenixErrorType.UnsupportedOperation=1010]="UnsupportedOperation"}(exports.PhoenixErrorType||(exports.PhoenixErrorType={}));var PhoenixError=function(_super){function PhoenixError(errorCode,errorMessage){var _this=_super.call(this,errorMessage)||this;return _this.errorCode=errorCode,_this.errorMessage=errorMessage,_this}return __extends(PhoenixError,_super),PhoenixError}(Error);exports.PhoenixError=PhoenixError})},{}],98:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(ExecutionContext){ExecutionContext.Browser="browser",ExecutionContext.Electron="electron",ExecutionContext.Node="node",ExecutionContext.NodeIPC="node-ipc"}(exports.ExecutionContext||(exports.ExecutionContext={}));var BrowserOptions=function(){this.host="localhost"};exports.BrowserOptions=BrowserOptions;var NodeOptions=function(){};exports.NodeOptions=NodeOptions;var NodeIPCOptions=function(){this.childProcess=null};exports.NodeIPCOptions=NodeIPCOptions;var ElectronOptions=function(_super){function ElectronOptions(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ElectronOptions,_super),ElectronOptions}(NodeOptions);exports.ElectronOptions=ElectronOptions;var DebugOptions=function(){this.verbose=!1,this.inspector=!1};exports.DebugOptions=DebugOptions;var ProxyOptions=function(){this.observer=null};exports.ProxyOptions=ProxyOptions;var RemoteOptions=function(){this.observer=null};exports.RemoteOptions=RemoteOptions;var ServiceOptions=function(){this.browser=new BrowserOptions,this.electron=new ElectronOptions,this.node=new NodeOptions,this.nodeIPC=new NodeIPCOptions,this.debug=new DebugOptions,this.proxy=new ProxyOptions,this.remote=new RemoteOptions};exports.ServiceOptions=ServiceOptions})},{}],99:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParcellableProxyObject="@_phoenix_@.#%harbor%#.%*parcellable*%.$^ProxyObject^$",exports.ParcellableRemoteObject="@_phoenix_@.#%harbor%#.%*parcellable*%.$^RemoteObject^$",exports.ParcellableDateObject="@_phoenix_@.#%harbor%#.%*parcellable*%.$^DateObject^$"})},{}],100:[function(require,module,exports){(function(global){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateUniqueIdentifier=function(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).toUpperCase()},exports.createPromise=function(){var _resolve,_reject,promise;return(promise=new Promise(function(resolve,reject){_resolve=resolve,_reject=reject})).resolve=_resolve,promise.reject=_reject,promise},exports.AttachPromise=function(promise1,promise2){promise1.then(function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];promise2.resolve.apply(promise2,args)}).catch(function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];promise2.reject.apply(promise2,args)})},exports.getZone=function(){return global.Zone||require("zone.js"),global.Zone};var DelayedCommand=function(apiName,args,promise){this.methodName=apiName,this.args=args,this.promise=promise};exports.DelayedCommand=DelayedCommand;var EventRequestPair=function(){function EventRequestPair(callback,options){void 0===options&&(options=null),this.options=options}return EventRequestPair.getKey=function(proxyObjectId,eventName){return JSON.stringify({proxyObjectId:proxyObjectId,eventName:eventName})},EventRequestPair}();exports.EventRequestPair=EventRequestPair})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"zone.js":34}],101:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./proxy_object","./proxy_service","./inspector"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var proxy_object_1=require("./proxy_object");exports.ProxyObject=proxy_object_1.ProxyObject;var proxy_service_1=require("./proxy_service");exports.ProxyService=proxy_service_1.ProxyService;var inspector_1=require("./inspector");exports.Debugging=inspector_1.Debugging})},{"./inspector":102,"./proxy_object":107,"./proxy_service":109}],102:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r};!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","../common/decorators","./proxy_object","../common/constants","./types"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var decorators_1=require("../common/decorators"),proxy_object_1=require("./proxy_object"),constants_1=require("../common/constants"),types_1=require("./types"),Debugging=function(){function Debugging(proxyObjectManager,promise){var _this=this;proxyObjectManager.options.debug.inspector?HarborInspector.get(proxyObjectManager).then(function(inspector){_this.inspector=inspector,promise&&promise.resolve()}):promise&&promise.resolve()}return Debugging.instance=function(proxyObjectManager,promise){void 0===promise&&(promise=null);var serviceName=proxyObjectManager.options.name;Debugging._instances.get(serviceName)||Debugging._instances.set(serviceName,new Debugging(proxyObjectManager,promise))},Debugging.inspector=function(serviceName){return Debugging._instances.get(serviceName).inspector},Debugging._instances=new Map,Debugging}();exports.Debugging=Debugging;var HarborInspector=function(_super){function HarborInspector(){return _super.call(this,HarborInspector_1)||this}var HarborInspector_1;return __extends(HarborInspector,_super),(HarborInspector_1=HarborInspector).get=function(proxyObjectManager){proxy_object_1.ProxyObject[types_1.kProxyObjectManagerAvailable]=proxyObjectManager;var promise=proxy_object_1.ProxyObject.invokeStatic(HarborInspector_1,"get");return delete proxy_object_1.ProxyObject[types_1.kProxyObjectManagerAvailable],promise},HarborInspector.prototype.proxyObjects=function(){return this.invoke("proxyObjects")},HarborInspector.prototype.printDebugInformation=function(){return this.invoke("printDebugInformation")},HarborInspector=HarborInspector_1=__decorate([decorators_1.$proxyObject(constants_1.HarborInspectorQualifiedName,constants_1.HarborServiceName)],HarborInspector)}(proxy_object_1.ProxyObject)})},{"../common/constants":92,"../common/decorators":93,"./proxy_object":107,"./types":110}],103:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","eventemitter3"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ProxyChannel=function(_super){function ProxyChannel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ProxyChannel,_super),ProxyChannel}(require("eventemitter3").EventEmitter);exports.ProxyChannel=ProxyChannel})},{eventemitter3:12}],104:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","../common/channel","./proxy_channel",".","../common/handshake_types"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=require("../common/channel"),proxy_channel_1=require("./proxy_channel"),_1=require("."),handshake_types_1=require("../common/handshake_types"),ProxyChannelImplElectron=function(_super){function ProxyChannelImplElectron(proxyObjectManager,promise){var _this=_super.call(this)||this;_this._proxyObjectManager=proxyObjectManager,_this._ipcRenderer=window.ipcRenderer||window.require("electron").ipcRenderer,_this._ipcHandshakeChannel=_this._proxyObjectManager.options.electron.ipcChannel;var handshakeMessage=new handshake_types_1.IPCHandshakeMessage;return handshakeMessage.type=handshake_types_1.IPCHandshakeType.Request,_this._ipcRenderer.on(_this._ipcHandshakeChannel,_this._onHandshakeMessage.bind(_this)),_this._ipcRenderer.send(_this._ipcHandshakeChannel,JSON.stringify(handshakeMessage)),_this._promise=promise,_this}return __extends(ProxyChannelImplElectron,_super),ProxyChannelImplElectron.prototype._onHandshakeMessage=function(sender,message){var handshakeProposalMessage=JSON.parse(message);switch(handshakeProposalMessage.type){case handshake_types_1.IPCHandshakeType.Proposal:if(handshakeProposalMessage.channel){this._ipcChannel=handshakeProposalMessage.channel;var handshakeAcceptMessage=new handshake_types_1.IPCHandshakeMessage;handshakeAcceptMessage.type=handshake_types_1.IPCHandshakeType.Accept,handshakeAcceptMessage.channel=handshakeProposalMessage.channel,this._ipcRenderer.on(this._ipcChannel,this._onMessage.bind(this)),setTimeout(_1.Debugging.instance.bind(this,this._proxyObjectManager,this._promise)),this._ipcRenderer.send(this._ipcHandshakeChannel,JSON.stringify(handshakeAcceptMessage))}else{var handshakeRejectMessage=new handshake_types_1.IPCHandshakeMessage;handshakeRejectMessage.type=handshake_types_1.IPCHandshakeType.Reject,handshakeRejectMessage.channel=handshakeProposalMessage.channel,this._ipcRenderer.send(this._ipcHandshakeChannel,JSON.stringify(handshakeRejectMessage))}}},ProxyChannelImplElectron.prototype._onMessage=function(sender,message){this.onMessage(message)},ProxyChannelImplElectron.prototype.onMessage=function(message){this.emit(channel_1.ChannelEvent.message,message)},ProxyChannelImplElectron.prototype.sendMessage=function(message){this._ipcRenderer.send(this._ipcChannel,message)},ProxyChannelImplElectron}(proxy_channel_1.ProxyChannel);exports.ProxyChannelImplElectron=ProxyChannelImplElectron})},{".":101,"../common/channel":90,"../common/handshake_types":94,"./proxy_channel":103}],105:[function(require,module,exports){(function(process){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","../common/channel","./proxy_channel",".","../common/handshake_types"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=require("../common/channel"),proxy_channel_1=require("./proxy_channel"),_1=require("."),handshake_types_1=require("../common/handshake_types"),ProxyChannelImplNodeIPC=function(_super){function ProxyChannelImplNodeIPC(proxyObjectManager,promise){var _this=_super.call(this)||this;_this._proxyObjectManager=proxyObjectManager,_this._promise=promise,process.on("message",_this._onMessage.bind(_this));var handshakeMessage=new handshake_types_1.IPCHandshakeMessage;return handshakeMessage.type=handshake_types_1.IPCHandshakeType.Request,process.send(handshakeMessage),_this}return __extends(ProxyChannelImplNodeIPC,_super),ProxyChannelImplNodeIPC.prototype._handleHandshakeRequest=function(handshakeMessage){switch(handshakeMessage.type){case handshake_types_1.IPCHandshakeType.Proposal:if(handshakeMessage.channel){this._channel=handshakeMessage.channel;var handshakeAcceptMessage=new handshake_types_1.IPCHandshakeMessage;handshakeAcceptMessage.type=handshake_types_1.IPCHandshakeType.Accept,handshakeAcceptMessage.channel=handshakeMessage.channel,setTimeout(_1.Debugging.instance.bind(this,this._proxyObjectManager,this._promise)),process.send(handshakeAcceptMessage)}else{var handshakeRejectMessage=new handshake_types_1.IPCHandshakeMessage;handshakeRejectMessage.type=handshake_types_1.IPCHandshakeType.Reject,handshakeRejectMessage.channel=handshakeMessage.channel,process.send(handshakeRejectMessage)}}},ProxyChannelImplNodeIPC.prototype._handleChannelMessage=function(message){this.emit(channel_1.ChannelEvent.message,message)},ProxyChannelImplNodeIPC.prototype._onMessage=function(message){message.type?this._handleHandshakeRequest(message):message.message&&this._handleChannelMessage(message.message)},ProxyChannelImplNodeIPC.prototype.sendMessage=function(message){process.send({channel:this._channel,message:message})},ProxyChannelImplNodeIPC}(proxy_channel_1.ProxyChannel);exports.ProxyChannelImplNodeIPC=ProxyChannelImplNodeIPC})}).call(this,require("_process"))},{".":101,"../common/channel":90,"../common/handshake_types":94,"./proxy_channel":103,_process:19}],106:[function(require,module,exports){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","../common/channel",".","./proxy_channel","url","../common","../common/phoenix_error"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=require("../common/channel"),_1=require("."),proxy_channel_1=require("./proxy_channel"),url_1=require("url"),common_1=require("../common"),phoenix_error_1=require("../common/phoenix_error"),WebSocket=null;try{WebSocket="undefined"==typeof window?require("websocket").w3cwebsocket:window.WebSocket}catch(_){}var ProxyChannelImplWebSocket=function(_super){function ProxyChannelImplWebSocket(proxyObjectManager,promise){var _this=_super.call(this)||this;_this._isConnectionOpen=!1,_this._proxyObjectManager=proxyObjectManager,_this._initPromise=promise;var host=_this._proxyObjectManager.options.browser.host,hostUrl=_this._proxyObjectManager.options.node.hostUrl;if(_this._proxyObjectManager.options.executionContext!==common_1.ExecutionContext.Browser)try{new url_1.URL(hostUrl)}catch(e){console.warn("Invalid hostUrl specified "+hostUrl),hostUrl="http://"+hostUrl}return _this._ws=new WebSocket("ws://"+host+":"+_this._proxyObjectManager.options.browser.port,[],hostUrl),_this._ws.addEventListener("open",_this._onOpen.bind(_this)),_this._ws.addEventListener("close",_this._onClose.bind(_this)),_this._ws.addEventListener("message",_this._onMessage.bind(_this)),_this._ws.addEventListener("error",_this._onError.bind(_this)),_this._pendingQueue=new Array,_this}return __extends(ProxyChannelImplWebSocket,_super),ProxyChannelImplWebSocket.prototype._onOpen=function(evt){for(_1.Debugging.instance(this._proxyObjectManager,this._initPromise),this._isConnectionOpen=!0;this._pendingQueue.length;)this.sendMessage(this._pendingQueue.shift());this.emit(channel_1.ChannelEvent.open)},ProxyChannelImplWebSocket.prototype._onClose=function(evt){if(this._pendingQueue.splice(0,this._pendingQueue.length),1e3!==evt.code){var errorMessage="Unknown Error occured",errorCode=phoenix_error_1.PhoenixErrorType.UnknownError;switch(evt.code){case 1006:errorMessage="Connection error!",errorCode=phoenix_error_1.PhoenixErrorType.HostAdapterConnectionError}this.emit(channel_1.ChannelEvent.error,new phoenix_error_1.PhoenixError(errorCode,errorMessage))}else this.emit(channel_1.ChannelEvent.close)},ProxyChannelImplWebSocket.prototype._onMessage=function(evt){this.onMessage(evt.data)},ProxyChannelImplWebSocket.prototype._onError=function(evt){},ProxyChannelImplWebSocket.prototype.onMessage=function(message){this.emit(channel_1.ChannelEvent.message,message)},ProxyChannelImplWebSocket.prototype.sendMessage=function(message){this._isConnectionOpen?this._ws.send(message):this._pendingQueue.push(message)},ProxyChannelImplWebSocket}(proxy_channel_1.ProxyChannel);exports.ProxyChannelImplWebSocket=ProxyChannelImplWebSocket})},{".":101,"../common":95,"../common/channel":90,"../common/phoenix_error":97,"./proxy_channel":103,url:28,websocket:31}],107:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","../common/command","../common/utility","./proxy_object_manager","./types","./proxy_service"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var command_1=require("../common/command"),utility_1=require("../common/utility"),proxy_object_manager_1=require("./proxy_object_manager"),types_1=require("./types"),proxy_service_1=require("./proxy_service"),ProxyObject=function(){function ProxyObject(Class){for(var parameters=[],_i=1;_i<arguments.length;_i++)parameters[_i-1]=arguments[_i];if(!Class){var msg="Subclasses of ProxyObject must define constructor with call to super(ClassName);";throw console.error(msg),msg}if(!Class.qualifiedName){msg="Classs "+Class.name+" must use decorator $proxyObject to specify the qualifiedName";throw console.error(msg),msg}if(this._proxyObjectManager=ProxyObject.getProxyObjectManager(Class),this._proxyObjectId=utility_1.generateUniqueIdentifier(),this._Class=Class,this._pendingCommandsQueue=new Array,!ProxyObject[types_1.kDoNotInitiateRemoteRequest]){var command=new command_1.MethodRequestCommand("constructor",proxy_object_manager_1.ProxyObjectManager._packParameters(parameters));command.qualifiedClassName=this._Class.qualifiedName,command.proxyObjectId=this._proxyObjectId,this._proxyObjectManager.invokeConstructor(this,command)}}return Object.defineProperty(ProxyObject.prototype,"proxyObjectId",{get:function(){return this._proxyObjectId},enumerable:!0,configurable:!0}),Object.defineProperty(ProxyObject.prototype,"remoteObjectId",{get:function(){return this._remoteObjectId},set:function(remoteObjectId){this._remoteObjectId=remoteObjectId,this._processPendingCommands()},enumerable:!0,configurable:!0}),Object.defineProperty(ProxyObject.prototype,"qualifiedClassName",{get:function(){return this._Class.qualifiedName},enumerable:!0,configurable:!0}),ProxyObject.prototype._updateCommand=function(command){command.qualifiedClassName=this._Class.qualifiedName,command.proxyObjectId=this._proxyObjectId,command.remoteObjectId=this._remoteObjectId},ProxyObject.prototype.invoke=function(method){for(var parameters=[],_i=1;_i<arguments.length;_i++)parameters[_i-1]=arguments[_i];if(!this._remoteObjectId)return this._enqueueCommand.apply(this,["invoke",method].concat(parameters));var command=new command_1.MethodRequestCommand(method,proxy_object_manager_1.ProxyObjectManager._packParameters(parameters));return this._updateCommand(command),this._proxyObjectManager.invokeMethod(this,command)},ProxyObject.getProxyObjectManager=function(Class){return ProxyObject[types_1.kProxyObjectManagerAvailable]||proxy_service_1.ProxyService.get(Class.serviceName)},ProxyObject.invokeStatic=function(Class,method){for(var parameters=[],_i=2;_i<arguments.length;_i++)parameters[_i-2]=arguments[_i];var qualifiedName=Class.qualifiedName;if(!qualifiedName){var msg="Classs "+Class.name+" must use decorator $proxyObject to specify the qualifiedName";throw console.error(msg),msg}var command=new command_1.StaticMethodRequestCommand(method,proxy_object_manager_1.ProxyObjectManager._packParameters(parameters));return command.qualifiedClassName=qualifiedName,ProxyObject.getProxyObjectManager(Class).invokeStaticMethod(command)},ProxyObject.prototype.requestEvent=function(eventName,callback,options){if(this._remoteObjectId){var command=new command_1.EventRequestCommand(eventName,options);this._updateCommand(command),this._proxyObjectManager.invokeEvent(command,callback)}else this._enqueueCommand("requestEvent",eventName,callback,options)},ProxyObject.prototype.removeEvent=function(eventName,callback,options){if(this._remoteObjectId)for(var requestIdArray=this._proxyObjectManager.popMatchingRequests(this.proxyObjectId,eventName,callback,options),i=0;i<requestIdArray.length;i++){var command=new command_1.EventRemovalCommand(eventName,options,requestIdArray[i]);this._updateCommand(command),this._proxyObjectManager.removeEvent(command)}else this._enqueueCommand("removeEvent",eventName,callback,options)},ProxyObject.prototype._enqueueCommand=function(methodName){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var promise=utility_1.createPromise(),request=new utility_1.DelayedCommand(methodName,args,promise);return this._pendingCommandsQueue.push(request),promise},ProxyObject.prototype._processPendingCommands=function(){for(;this._pendingCommandsQueue.length;){var request=this._pendingCommandsQueue.shift();if(this[request.methodName]instanceof Function){var promise=this[request.methodName].apply(this,request.args);promise instanceof Promise&&utility_1.AttachPromise(promise,request.promise)}}},ProxyObject.prototype.addEventListener=function(eventName,successCallback,errorCallback,options){},ProxyObject}();exports.ProxyObject=ProxyObject})},{"../common/command":91,"../common/utility":100,"./proxy_object_manager":108,"./proxy_service":109,"./types":110}],108:[function(require,module,exports){(function(process){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports",".","../common/object_registrar","../common/channel","../common/command","../common/service_options","../common/types","../common/utility","./proxy_channel_impl_electron","./proxy_channel_impl_nodeipc","./proxy_channel_impl_websocket","./types","../common/constants","../common/phoenix_error"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _1=require("."),object_registrar_1=require("../common/object_registrar"),channel_1=require("../common/channel"),command_1=require("../common/command"),service_options_1=require("../common/service_options"),types_1=require("../common/types"),utility_1=require("../common/utility"),proxy_channel_impl_electron_1=require("./proxy_channel_impl_electron"),proxy_channel_impl_nodeipc_1=require("./proxy_channel_impl_nodeipc"),proxy_channel_impl_websocket_1=require("./proxy_channel_impl_websocket"),types_2=require("./types"),constants_1=require("../common/constants"),phoenix_error_1=require("../common/phoenix_error"),ProxyObjectManager=function(){function ProxyObjectManager(options,promise){if(void 0===options&&(options=null),void 0===promise&&(promise=null),this._options=options,ProxyObjectManager.validateOptions(this._options,promise),this._promiseRegistry=new Map,this._callbackRegistry=new Map,this._eventRequestMap=new Map,this._staticPromiseRegistry=new Map,this._proxyRemoteRegistry=new Map,this._proxyObjects=new Map,this._options.executionContext===service_options_1.ExecutionContext.Electron)this._channel=new proxy_channel_impl_electron_1.ProxyChannelImplElectron(this,promise);else if(this._options.executionContext===service_options_1.ExecutionContext.NodeIPC){if(!process.send){var error=new phoenix_error_1.PhoenixError(phoenix_error_1.PhoenixErrorType.UnsupportedOperation,"Process is not launched as a child process");return promise.reject(error)}this._channel=new proxy_channel_impl_nodeipc_1.ProxyChannelImplNodeIPC(this,promise)}else this._channel=new proxy_channel_impl_websocket_1.ProxyChannelImplWebSocket(this,promise);this._registerForChannelEvents()}return ProxyObjectManager._validateBrowserOptions=function(options,promise){return options.browser?!!options.browser.port||(promise.reject("The `browser.port` MUST be set!"),!1):(promise.reject("The `browser` options MUST be set for Browser environment!"),!1)},ProxyObjectManager._validateElectronOptions=function(options,promise){return options.electron?!!options.electron.ipcChannel||(promise.reject("The `electron.ipcChannel` options MUST be set for Electron environment!"),!1):(promise.reject("The `electron` options MUST be set for Electron environment!"),!1)},ProxyObjectManager.validateOptions=function(options,promise){if(options.name)if(options.executionContext)switch(options.executionContext){case service_options_1.ExecutionContext.Browser:if(!ProxyObjectManager._validateBrowserOptions(options,promise))return;break;case service_options_1.ExecutionContext.Electron:if(!ProxyObjectManager._validateElectronOptions(options,promise))return;break;case service_options_1.ExecutionContext.Node:case service_options_1.ExecutionContext.NodeIPC:}else promise.reject("ServiceOptions.executionContext MUST be set");else promise.reject("ServiceOptions.name MUST be set")},Object.defineProperty(ProxyObjectManager.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),ProxyObjectManager.prototype.invokeConstructor=function(proxyObject,command){this._proxyObjects.set(proxyObject.proxyObjectId,proxyObject),this._proxyRemoteRegistry.set(proxyObject.proxyObjectId,null),this._channel.sendMessage(command.toString())},ProxyObjectManager.prototype.invokeMethod=function(proxyObject,command){var promise=utility_1.createPromise();return this._promiseRegistry.set(command.requestId,promise),this._channel.sendMessage(command.toString()),promise},ProxyObjectManager.prototype.invokeStaticMethod=function(command){var promise=utility_1.createPromise();return this._staticPromiseRegistry.set(command.requestId,promise),this._channel.sendMessage(command.toString()),promise},ProxyObjectManager.prototype.invokeEvent=function(command,callback){var key=utility_1.EventRequestPair.getKey(command.proxyObjectId,command.eventName);this._eventRequestMap.has(key)||this._eventRequestMap.set(key,new Array),this._eventRequestMap.get(key).push(command.requestId),this._callbackRegistry.set(command.requestId,callback),this._channel.sendMessage(command.toString())},ProxyObjectManager.prototype.popMatchingRequests=function(proxyObjectId,eventName,callback,options){var matchingRequestIds=[],key=utility_1.EventRequestPair.getKey(proxyObjectId,eventName),requestIdArray=this._eventRequestMap.get(key);if(!requestIdArray)return requestIdArray;for(var newRequestIdArray=[],i=0;i<requestIdArray.length;i++){var id=requestIdArray[i];this._callbackRegistry.get(id)===callback?(matchingRequestIds.push(id),this._callbackRegistry.delete(id)):newRequestIdArray.push(id)}return this._eventRequestMap.set(key,newRequestIdArray),matchingRequestIds},ProxyObjectManager.prototype.removeEvent=function(command){this._callbackRegistry.has(command.requestId)&&this._callbackRegistry.delete(command.requestId),this._channel.sendMessage(command.toString())},ProxyObjectManager.prototype._registerForChannelEvents=function(){this._channel.on(channel_1.ChannelEvent.message,this._onChannelMessage.bind(this)),this._channel.on(channel_1.ChannelEvent.error,this._onChannelError.bind(this))},ProxyObjectManager.prototype._onChannelError=function(error){this._options.proxy.observer&&this._options.proxy.observer.onError(error)},ProxyObjectManager.prototype._onChannelMessage=function(message){this._options.debug.verbose&&console.log("POM: "+message);var jsonObject=JSON.parse(message);switch(jsonObject.type){case command_1.CommandType.MethodResponse:this._handleMethodResponse(jsonObject);break;case command_1.CommandType.EventResponse:this._handleEventResponse(jsonObject);break;case command_1.CommandType.StaticMethodResponse:this._handleStaticMethodResponse(jsonObject);break;case command_1.CommandType.SystemEvent:this._handleSystemEvent(jsonObject);break;case command_1.CommandType.MethodPromiseRejection:this._handleMethodPromiseRejection(jsonObject);break;case command_1.CommandType.StaticMethodPromiseRejection:this._handleStaticMethodPromiseRejection(jsonObject)}},ProxyObjectManager.prototype._checkAndCreateProxyObject=function(objectId,qualifiedClassName){var proxyObject=this._getProxyObject(objectId);if(proxyObject)return proxyObject;var theConstructor=object_registrar_1.ObjectRegistrar.instance().getProxy(qualifiedClassName);return theConstructor&&(_1.ProxyObject[types_2.kDoNotInitiateRemoteRequest]=!0,(proxyObject=new theConstructor).remoteObjectId=objectId,delete _1.ProxyObject[types_2.kDoNotInitiateRemoteRequest],this._proxyObjects.set(proxyObject.proxyObjectId,proxyObject),this._proxyRemoteRegistry.set(proxyObject.proxyObjectId,objectId)),proxyObject},ProxyObjectManager.prototype._handleStaticMethodResponse=function(jsonObject){var _this=this,command=command_1.StaticMethodResponseCommand.from(jsonObject),promise=this._staticPromiseRegistry.get(command.requestId);if(command.isRemoteObject)if(command.returnValue instanceof Array){var arrayOfProxyObjects_1=new Array;command.returnValue.forEach(function(objectId){var proxyObject=_this._checkAndCreateProxyObject(objectId,command.qualifiedClassName);arrayOfProxyObjects_1.push(proxyObject)}),promise.resolve(arrayOfProxyObjects_1)}else{var proxyObject=this._checkAndCreateProxyObject(command.returnValue,command.qualifiedClassName);promise.resolve(proxyObject)}else promise.resolve(this._unpackIndividualParameter(command.returnValue))},ProxyObjectManager.prototype._getProxyObject=function(remoteObjectId){for(var _i=0,_a=Array.from(this._proxyRemoteRegistry.entries());_i<_a.length;_i++){var entry=_a[_i],entryProxyObjectId=entry[0];if(entry[1]===remoteObjectId)return this._proxyObjects.get(entryProxyObjectId)}return null},ProxyObjectManager._packIndividualParameter=function(param){if(param instanceof _1.ProxyObject)return(paramObject={proxyObjectId:param.proxyObjectId,remoteObjectId:param.remoteObjectId,qualifiedClassName:param.qualifiedClassName})[types_1.ParcellableProxyObject]=!0,paramObject;if(param instanceof Array)return ProxyObjectManager._packParameters(param);if(param instanceof Date)return(paramObject={time:param.getTime()})[types_1.ParcellableDateObject]=!0,paramObject;if(!(param instanceof Object)||param instanceof Promise)return param;var paramObject={};for(var key in param)paramObject[key]=ProxyObjectManager._packIndividualParameter(param[key]);return paramObject},ProxyObjectManager._packParameters=function(parameters){return parameters.map(function(param){return ProxyObjectManager._packIndividualParameter(param)})},ProxyObjectManager.prototype._unpackIndividualParameter=function(param){if(param instanceof Array)return this._unpackParameters(param);if(!(param instanceof Object)||param instanceof Promise)return param;if(param[types_1.ParcellableRemoteObject])return this._checkAndCreateProxyObject(param.remoteObjectId,param.qualifiedClassName);if(param[types_1.ParcellableDateObject])return new Date(param.time);var paramObject={};for(var key in param)paramObject[key]=this._unpackIndividualParameter(param[key]);return paramObject},ProxyObjectManager.prototype._unpackParameters=function(parameters){var _this=this;return parameters.map(function(param){return _this._unpackIndividualParameter(param)})},ProxyObjectManager.prototype._handleMethodResponse=function(jsonObject){var _this=this,command=command_1.MethodResponseCommand.from(jsonObject);switch(command.method){case"constructor":this._proxyRemoteRegistry.set(command.proxyObjectId,command.remoteObjectId);var proxyObject=this._proxyObjects.get(command.proxyObjectId);proxyObject.remoteObjectId=command.remoteObjectId;break;default:var promise=this._promiseRegistry.get(command.requestId);if(command.isRemoteObject)if(command.returnValue instanceof Array){var arrayOfProxyObjects_2=new Array;command.returnValue.forEach(function(objectId){var proxyObject=_this._checkAndCreateProxyObject(objectId,command.qualifiedClassName);arrayOfProxyObjects_2.push(proxyObject)}),promise.resolve(arrayOfProxyObjects_2)}else{var proxyObject_1=this._checkAndCreateProxyObject(command.returnValue,command.qualifiedClassName);promise.resolve(proxyObject_1)}else promise.resolve(this._unpackIndividualParameter(command.returnValue))}},ProxyObjectManager.prototype._handleMethodPromiseRejection=function(jsonObject){var command=command_1.MethodPromiseRejectionCommand.from(jsonObject),promise=this._promiseRegistry.get(command.requestId);promise?promise.reject(command.rejectionReason):console.error("Invalid promise :: "+command.requestId)},ProxyObjectManager.prototype._handleStaticMethodPromiseRejection=function(jsonObject){var command=command_1.StaticMethodPromiseRejectionCommand.from(jsonObject),promise=this._staticPromiseRegistry.get(command.requestId);promise?promise.reject(command.rejectionReason):console.error("Invalid promise :: "+command.requestId)},ProxyObjectManager.prototype._handleEventResponse=function(jsonObject){var callback=this._callbackRegistry.get(jsonObject.requestId);callback&&callback.apply(void 0,this._unpackParameters(jsonObject.parameters))},ProxyObjectManager.prototype._createProxyObject=function(theConstructor,command){var _a;_1.ProxyObject[types_2.kDoNotInitiateRemoteRequest]=!0,command.qualifiedClassName===constants_1.HarborInspectorQualifiedName&&(_1.ProxyObject[types_2.kProxyObjectManagerAvailable]=this);var proxyObject=new((_a=theConstructor).bind.apply(_a,[void 0].concat(command.data)));return delete _1.ProxyObject[types_2.kDoNotInitiateRemoteRequest],command.qualifiedClassName===constants_1.HarborInspectorQualifiedName&&delete _1.ProxyObject[types_2.kProxyObjectManagerAvailable],proxyObject},ProxyObjectManager.prototype._handleSystemEvent=function(jsonObject){var command=command_1.SystemEventCommand.from(jsonObject);switch(command.eventName){case command_1.SystemEventName.RemoteObjectCreated:var theConstructor=object_registrar_1.ObjectRegistrar.instance().getProxy(command.qualifiedClassName);if(theConstructor){var proxyObject=this._createProxyObject(theConstructor,command);proxyObject.remoteObjectId=command.remoteObjectId,this._proxyObjects.set(proxyObject.proxyObjectId,proxyObject),this._proxyRemoteRegistry.set(proxyObject.proxyObjectId,command.remoteObjectId)}}},ProxyObjectManager}();exports.ProxyObjectManager=ProxyObjectManager})}).call(this,require("_process"))},{".":101,"../common/channel":90,"../common/command":91,"../common/constants":92,"../common/object_registrar":96,"../common/phoenix_error":97,"../common/service_options":98,"../common/types":99,"../common/utility":100,"./proxy_channel_impl_electron":104,"./proxy_channel_impl_nodeipc":105,"./proxy_channel_impl_websocket":106,"./types":110,_process:19}],109:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports","./proxy_object_manager","../common/utility"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var proxy_object_manager_1=require("./proxy_object_manager"),utility_1=require("../common/utility"),ProxyService=function(){function ProxyService(){}return ProxyService._initializeProxyService=function(options){var serviceName=options.name,promise=utility_1.createPromise();if(ProxyService._proxyObjectManagers.get(serviceName))return setTimeout(promise.resolve),promise;var proxyObjectManager=new proxy_object_manager_1.ProxyObjectManager(options,promise);return ProxyService._proxyObjectManagers.set(serviceName,proxyObjectManager),promise},ProxyService.get=function(serviceName){return ProxyService._proxyObjectManagers.get(serviceName)},ProxyService.initialize=function(options){for(var promises=new Array,_i=0,options_1=options;_i<options_1.length;_i++){var option=options_1[_i];promises.push(ProxyService._initializeProxyService(option))}var promise=utility_1.createPromise();return Promise.all(promises).then(function(){promise.resolve()}).catch(function(e){promise.reject(e)}),promise},ProxyService._proxyObjectManagers=new Map,ProxyService}();exports.ProxyService=ProxyService})},{"../common/utility":100,"./proxy_object_manager":108}],110:[function(require,module,exports){!function(factory){if("object"==typeof module&&"object"==typeof module.exports){var v=factory(require,exports);void 0!==v&&(module.exports=v)}else"function"==typeof define&&define.amd&&define(["require","exports"],factory)}(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.kDoNotInitiateRemoteRequest="__doNotInitiateRemoteRequest",exports.kProxyObjectManagerAvailable="__proxyObjectManagerAvailable"})},{}]},{},[87]);